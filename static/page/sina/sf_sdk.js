var xh5_define,KKE=KKE||{};~function(n){"use strict";function e(n,e,t){if(!u.isStr(n))return void u.err(t,[i.CMD_UNEXIST,n].join(":"));e=e||{};var r=n.split("."),o=r.splice(r.length-1,r.length).join(""),a=r.splice(r.length-1,r.length).join(""),l=r.splice(0,r.length),s=l.join("."),c=[s,a].join(".");d.relyCall(c,function(){var r=d.modsTree,s=void 0;do{var c=l.shift();if(s=s?s[c]:r[c],!s)return void u.err(t,[i.MOD_ERR,a].join(":"))}while(l.length);var f=s[a]||{},h=f.entity||{},m=h[o];"undefined"==typeof m?u.err(t,[i.CMD_UNEXIST,n].join(":")):u.isFunc(m)?m(e,t):u.isFunc(t)&&t(m)},e.modUrl||null)}for(var t,r,i={SDK_REG:new RegExp("sf_sdk.js",a),isLocal:!1,isDebug:!1,isSSL:!1,custom_mod_url:void 0,MOD_URL:"js/$moduleName.js",MOD_URL_PROD:"http://finance.sina.com.cn/sinafinancesdk/js/$moduleName.js",MOD_URL_PROD_S:"https://finance.sina.com.cn/sinafinancesdk/js/$moduleName.js",getModUrl:function(){return this.custom_mod_url?this.custom_mod_url+"/$moduleName.js":this.isLocal?this.MOD_URL:this.isSSL?this.MOD_URL_PROD_S:this.MOD_URL_PROD},CMD_404:"error occured while loading",CMD_UNEXIST:"calling nonexistent API",MOD_ERR:"erroneous module",MOD_DEF_ERR:"illegal module",DEP_ERR:"error def module"},o=document.getElementsByTagName("script"),a=o.length;a--;)if(t=o[a],r=t.src||"",i.SDK_REG.test(r)){for(var l,s=t.attributes.length;s--;)l=t.attributes[s],"ssl"==l.name&&(i.isSSL="true"==l.value),"debug"==l.name&&(i.isDebug="true"==l.value),"local"==l.name&&(i.isLocal="true"==l.value),"murl"==l.name&&(i.custom_mod_url=l.value);break}0==location.protocol.indexOf("https:")&&(i.isSSL=!0);var u=new function(){function n(n,e,t,r){var i=!1,o=document.createElement("script"),a=document.getElementsByTagName("script")[0],l=document.head||document.getElementsByTagName("head")[0]||document.documentElement,s=l.getElementsByTagName("base")[0];o.charset=r||"gb2312",o.src=n,o.async=!0,o.onload=o.onreadystatechange=function(){i||o.readyState&&!/loaded|complete/.test(String(o.readyState))||(i=!0,o.onload=o.onreadystatechange=o.onerror=null,o.parentNode.removeChild(o),o=null,"function"==typeof e&&e())},o.onerror=function(){o.onload=o.onreadystatechange=o.onerror=null,o.parentNode.removeChild(o),o=null,"function"==typeof t&&t()},a.parentNode?a.parentNode.insertBefore(o,a):s?l.insertBefore(o,s):l.appendChild(o)}this.fBind=function(n,e){var t=Array.prototype.slice.call(arguments,2);return function(){return n.apply(e,t.concat(Array.prototype.slice.call(arguments)))}};var e=function(n){return function(e){return{}.toString.call(e)=="[object "+n+"]"}};this.isStr=e("String"),this.isFunc=e("Function"),this.isArr=e("Array"),this.trace=function(n){return{log:function(){n&&n.log&&n.log.apply(n,arguments)},error:function(){n&&n.error&&n.error.apply(n,arguments)}}}(null),this.err=function(n,e){this.isFunc(n)&&n({msg:e,data:null}),this.trace.error(e)},this.load=n},c=["datas.hq","datas.k","datas.t","utils.util"],d=new function(){function n(n,e,r){if(3!=arguments.length)return void u.trace.error(i.MOD_DEF_ERR,n);var o=t(n),a=o[0],s=o[1],c=a[s];c?c.init=!0:c=a[s]={init:!0,name:n,funcQ:[],entity:void 0},u.isStr(e)&&(e=[e]);for(var d,h=e.length;h--;)if(d=e[h],d.indexOf("*")>-1){e.splice(h,1);var m=d.split(".");m.splice(m.length-1,m.length);var g=m.join(".");e=e.concat(f(g,n));break}l(e,e.slice(0),c,r)}var e={},t=function(n){for(var t,r=n.split("."),i=r.splice(r.length-1,r.length).join(""),o=r.splice(0,r.length),a=o.join("."),l=void 0;o.length;){var s=o.shift();l?(t=l[s],t||(t=l[s]={})):(t=e[s],t||(t=e[s]={})),l=t}return[l,i,a]},r=function(n){for(;n.funcQ.length;){var e=n.funcQ.shift();u.isFunc(e)&&e()}},o=function(n){if(!n)return null;for(var t=[],r=[],o=0,a=n.length;a>o;o++){for(var l,s=n[o].split("."),c=void 0;s.length;)if(l=s.shift(),c=c?c[l]:e[l],!c){u.trace.error(i.DEP_ERR,s.toString());break}r.push(c.entity),t.push(l)}return{n:t,e:r}},a=function(n,t,i){var a=t.toString(),l=0==a.indexOf("function");if(l){var s=o(i),c=t.apply(null,s.e.concat(e));n.entity=u.isFunc(c)?new c:c}else n.entity=t;r(n)},l=function(n,e,t,r){e.length?h(e.shift(),u.fBind(l,this,n,e,t,r)):a(t,r,n)},s=function(n,e,t){e=e.replace(/\./g,"/"),t&&(t+="$moduleName.js");var r=t||i.getModUrl();u.load(r.replace("$moduleName",e),null,u.fBind(u.trace.error,this,i.CMD_404,n.name))},d=function(n,e){u.isArr(n)&&(n=n.join("."));var r=t(n),i=r[0],o=r[1],a=i[o];return a||(a={init:!1,name:n,funcQ:[],entity:void 0},i[o]=a,s(a,n,e)),a},f=function(n,e){for(var t,r=[],i=c.length;i--;)t=c[i],0==t.indexOf(n)&&-1==t.indexOf(e)&&(r[r.length]=t);return r},h=function(n,e,t){var r=d(n,t);u.isFunc(e)&&(r.init?e():r.funcQ.push(e))};this.modsTree=e,this.relyCall=h,xh5_define=n};n.api=e,n.cls={},n.istLL="KKE|1.0.4|WANGXuan|SinaFinance|wangxuan2@staff.sina.com.cn"}(KKE);;
xh5_define("utils.util",[],function(){return function(){function t(t,e){var i=x(e.prototype);i.constructor=t,t.prototype=i}function e(){this.evtObj={}}function i(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,i.concat(Array.prototype.slice.call(arguments)))}}function n(){return Date.now?Date.now():(new Date).getTime()}function r(t,e){e||(t=t.toLowerCase());for(var i,n=1315423911,r=t.length;r--;)i=t.charCodeAt(r),n^=(n<<5)+i+(n>>2);return 2147483647&n}function a(t,e,i,n){var r=!1,a=document.createElement("script"),o=document.getElementsByTagName("script")[0],s=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=s.getElementsByTagName("base")[0];a.charset=n||"gb2312",a.src=t,a.async=!0,a.onload=a.onreadystatechange=function(){r||a.readyState&&!/loaded|complete/.test(a.readyState)||(r=!0,a.onload=a.onreadystatechange=a.onerror=null,a.parentNode.removeChild(a),a=null,"function"==typeof e&&e())},a.onerror=function(){a.onload=a.onreadystatechange=a.onerror=null,a.parentNode.removeChild(a),a=null,"function"==typeof i&&i()},o.parentNode?o.parentNode.insertBefore(a,o):l?s.insertBefore(a,l):s.appendChild(a)}function o(){function t(t){var e=t.style;for(var i in e)e.hasOwnProperty(i)&&(t.dom.style[i]=e[i])}function e(){for(var t=["@keyframes KKELoading","@-webkit-keyframes KKELoading","@-moz-keyframes KKELoading"],e=0,i=t.length;i>e;e++)u.cssUtil.inject(t[e]+l.scaleY)}function i(){if(e(),!r){r=u.$C("div"),t({dom:r,style:l.ctn});for(var i=.1,n=0,a=l.color.length;a>n;n++){var o=u.$C("span");t({dom:o,style:l.item});var s=u.clone(l.delay,s),c=-1+i*n+"s";for(var h in s)s.hasOwnProperty(h)&&(s[h]=c);t({dom:o,style:s}),o.style.background=l.color[n],r.appendChild(o)}}}function n(){clearTimeout(o),o=setTimeout(function(){"none"!=r.style.display&&(r.style.display="none")},9e3)}var r,a,o,s,l={ctn:{width:"40px",height:"30px",margin:0,display:"none",position:"absolute",zIndex:1},item:{display:"inline-block",width:"4px",height:"30px",margin:"0px 2px",borderRadius:"5px",animation:"KKELoading 1.2s infinite",webkitAnimation:"KKELoading 1.2s infinite",MozAnimation:"KKELoading 1.2s infinite"},color:["#FF5472","#FF706E","#FF8762","#FFAF4C","#FFD53E"],delay:{animationDelay:-1,webkitAnimationDelay:-1,MozAnimationDelay:-1},scaleY:"{0%,40%,100%{-moz-transform:scaleY(0.2);-webkit-transform:scaleY(0.2);transform:scaleY(0.2);}20%,60%{-moz-transform:scaleY(1);-webkit-transform:scaleY(1);transform:scaleY(1);}}"};i(),this.appendto=function(t,e){a=t,s=e,a.appendChild(r)},this.setPosition=function(){a&&a.offsetHeight>0?(r.style.top=(a.offsetHeight-v(l.ctn.height))/2+"px",r.style.left=(a.offsetWidth-v(l.ctn.width))/2+"px"):s&&s.DIMENSION.h_t&&(r.style.top=(s.DIMENSION.h_t-v(l.ctn.height))/2+"px",r.style.left=(s.DIMENSION._w-v(l.ctn.width))/2+"px")},this.show=function(){n(),r.style.display=""},this.hide=function(){clearTimeout(o),r.style.display="none"}}function s(t){t=t||{};var e,i,n,r,a,o,s=u.$C("div"),l=70,c=function(){clearTimeout(o),i&&(i.style.display="none",s.innerHTML=""),e&&f(e.closeCb)&&e.closeCb()},h=function(h){if(e=h,clearTimeout(o),!i){i=u.$C("div"),i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.zIndex=l,i.style.top=0,i.style.textAlign="center",n=u.$C("div"),r=u.$C("div"),a=u.$C("span"),s.style.fontSize="12px",s.style.margin="9px auto",n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="100%",n.style.height="100%",n.style.backgroundColor=t.TIP_ARR?t.TIP_ARR[2]||"#fff":"#fff",n.style.opacity=.5,n.style.filter="alpha(opacity=50)",r.style.padding="1px 3px 10px",r.style.top=t.TIP_ARR?t.TIP_ARR[4]||"26%":"26%",r.style.position="relative",r.style.margin="0 auto",r.style.width="100%",a.style.cursor="pointer",a.style.display="block",a.style.margin="0 auto",a.style.lineHeight=a.style.height="28px",a.style.width="60px",a.style.fontSize="14px",a.style.borderRadius="3px",u.xh5_EvtUtil.addHandler(a,"click",c),r.appendChild(s);var d=!(!t.TIP_ARR||!t.TIP_ARR[3]);!d&&i.appendChild(n),i.appendChild(r)}i.style.display="",s.style.color="undefined"!=typeof h.fontColor?h.fontColor:t.TIP_ARR?t.TIP_ARR[1]||"#fff":"#fff";var f=t.TIP_ARR?t.TIP_ARR[0]||"#000":"#000";if(r.style.backgroundColor=u.xh5_BrowserUtil.noH5?f:u.hex2dec(f,.8),h.bgStyle)for(var p in h.bgStyle)h.bgStyle.hasOwnProperty(p)&&(r.style[p]=h.bgStyle[p]);if(s.innerHTML=h.txt||"",h.content&&s.appendChild(h.content),!isNaN(h.autoHide)&&h.autoHide>0&&setTimeout(c,1e3*h.autoHide),h.noBtn?u.$CONTAINS(r,a)&&r.removeChild(a):(a.innerHTML=h.btnLb||"\u786e\u5b9a",a.style.background=t.BTN_ARR?t.BTN_ARR[0]||"#2b9dfc":"#2b9dfc",a.style.color=t.BTN_ARR?t.BTN_ARR[1]||"#fff":"#fff",!u.$CONTAINS(r,a)&&r.appendChild(a)),h.extraBtn)for(var m=0,g=h.extraBtn,v=g.length;v>m;m++){var b=g[m],N=u.$C("input");N.type="button",N.value=b.value,N.style.marginTop="20px",N.style.cursor="pointer",u.xh5_EvtUtil.addHandler(N,"click",b.onClk),r.appendChild(N)}return h.parent.appendChild(i),i};this.genTip=h,this.hide=c}function l(){var t="hq";return location.hostname.indexOf("sina.cn")>-1&&(t="w",location.pathname.indexOf("appchart")>-1&&(t="a")),t}this.VER="2.2.34";var u=this,c=function(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}},h=c("Object"),d=c("String"),f=c("Function"),p=c("Array"),m=c("Number"),g=c("Date");this.isObj=h,this.isStr=d,this.isFunc=f,this.isArr=p,this.isNum=m,this.isDate=g;var v=function(t){return parseInt(t,10)};this.uae=function(t){for(var e,i=[],n={},r=0,a=t.length;a>r;r++)e=t[r],1!==n[e]&&(n[e]=1,i[i.length]=e);return i};var b=new function(){var t;if(XMLHttpRequest)t=new XMLHttpRequest;else if(ActiveXObject)try{t=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}this.send=function(e,i,n,r){if(!t||!e)return void(n&&n("error while sending"));if(e+=e.indexOf("?")<0?"?":"&",e+="_="+(new Date).getTime(),r=r||"POST",t.onreadystatechange=function(){if(4==t.readyState){var e;200==t.status&&(e=t.responseText),n&&n(e)}},t.open(r,e,!0),"POST"==r){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;");var a="";for(var o in i)i.hasOwnProperty(o)&&(a+=[encodeURIComponent(o),encodeURIComponent(i[o])].join("=")+"&");t.send(a)}else t.send(null)}};this.POST="undefined"!=typeof jQuery&&jQuery.post?jQuery.post:b.send,this.trace=function(t){return{log:function(){t&&t.log&&t.log.apply(t,arguments)},error:function(){t&&t.error&&t.error.apply(t,arguments)}}}(null);var N=function(t,e){var i=-1;if(t.indexOf)i=t.indexOf(e);else for(var n=t.length;n--;)if(t[n]===e){i=n;break}return i};this.arrIndexOf=N;var y=function(t,e){if(null==t||"object"!=typeof t)return t;if(t.constructor==Date||t.constructor==RegExp||f(t)||d(t)||t.constructor==Number||t.constructor==Boolean)return new t.constructor(t);e=e||new t.constructor;for(var i in t)t.hasOwnProperty(i)&&(e[i]="undefined"==typeof e[i]?y(t[i],null):e[i]);return e};this.clone=y;var w=function(t){if(!t)return t;var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e};this.co=w,this.oc=function(t,e){if(!t)return e;for(var i in e)e.hasOwnProperty(i)&&(t[i]=h(t[i])&&h(e[i])?arguments.callee(t[i],e[i]):e[i]);return t};var x=function(t){function e(){}return e.prototype=t,new e};this.fInherit=t,this.urlUtil=new function(){this.getUrlParam=function(){var t,e={};try{t=location.search.substring(1)}catch(i){}if(t)for(var n,r,a,o=t.split("&"),s=o.length,l=0;s>l;l++)a=o[l].indexOf("="),-1!=a&&(n=o[l].substring(0,a),r=o[l].substring(a+1),e[n]=r);return e},this.getMainUrl=function(){return window.location!=window.parent.location?document.referrer:document.location.href}},this.xh5_BrowserUtil=new function(){this.info=function(){var t,e=navigator.userAgent,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE ",version:t[1]||""}):"Chrome"===i[1]&&(t=e.match(/\bOPR\/(\d+)/),null!=t)?{name:"Opera",version:t[1]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),{name:i[0],version:i[1]})}(),this.noH5=!1,this.hdpr=function(t){var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var i=Math.ceil(window.devicePixelRatio||1),n=e.getContext("2d").webkitBackingStorePixelRatio||1;return i/n}return t.noH5=!0,1}(this)},this.xh5_deviceUtil=function(){return{istd:function(){if("ontouchend"in window){var t;try{t=navigator.userAgent}catch(e){}return t&&t.indexOf("Windows NT")>0?!1:!0}return!1}(),allowt:"ontouchend"in window}}();var _=function(){function t(t){return t=JSON.stringify(t),t||(t=""),t=encodeURIComponent(t)}function e(t){try{t=JSON.parse(t)}catch(e){t=decodeURIComponent(t)}return t}function i(e,i,n){if(n=n||{},void 0!=e&&void 0!=i){var r,a,o,s;a=n.path?"; path="+n.path:"",o=n.domain?"; domain="+n.domain:"",s=n.secure?"; secure":"";var l,c=n.expires;switch(u(c)){case"Number":l=new Date,l.setTime(l.getTime()+1e3*c);break;case"String":l=new Date(c),"Invalid Date"==l&&(l="");break;case"Date":l=c}r=l?"; expires="+l.toUTCString():"",document.cookie=[encodeURIComponent(e),"=",t(i),r,a,o,s].join("")}}function n(t){var i=document.cookie.match("(?:^|;)\\s*"+encodeURIComponent(t)+"=([^;]*)");return i?e(i[1])||"":null}function r(t){document.cookie=encodeURIComponent(t)+"=;expires="+new Date(0).toUTCString()}function a(e,i){void 0!=e&&void 0!=i&&localStorage.setItem(encodeURIComponent(e),t(i))}function o(t){var i=localStorage.getItem(encodeURIComponent(t));return e(i)}function s(t){localStorage.removeItem(encodeURIComponent(t))}var l=Object.prototype.toString,u=function(t){return null===t?"Null":void 0===t?"Undefined":l.call(t).slice(8,-1)},c=function(){if("object"==typeof localStorage&&localStorage&&localStorage.setItem){var t="KKE_LOCALSTORAGE_TESTing";try{return localStorage.removeItem(t),localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}return!1}();return{hasls:c,save:function(t,e,n){n=n||{};var r=n.mode;if(r)switch(r){case"localStorage":if(!c)return;a(t,e);break;case"cookie":i(t,e,n)}else if(c)try{s(t),a(t,e)}catch(o){}else i(t,e,n)},load:function(t,e){var i;if("Object"==u(e)&&(e=e.mode),e)switch(e){case"localStorage":if(!c)return;i=o(t);break;case"cookie":i=n(t)}else c&&(i=o(t)),!i&&(i=n(t));return i},remove:function(t,e){if("Object"==u(e)&&(e=e.mode),e)switch(e){case"localStorage":if(!c)return;s(t);break;case"cookie":r(t)}else c&&s(t),r(t)},clear:function(t){c&&s(t)}}}();this.localSL=_,this.xh5_EvtUtil={addHandler:function(t,e,i){t&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i)},removeHandler:function(t,e,i){t&&(t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null)},getEvent:function(t){return t?t:window.event},getTarget:function(t){return!t&&(t=this.getEvent()),t?t.target||t.srcElement:null},preventDefault:function(t){!t&&(t=this.getEvent()),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(t){!t&&(t=this.getEvent()),t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},getRelatedTarget:function(t){return!t&&(t=this.getEvent()),t.relatedTarget?t.relatedTarget:t.toElement?t.toElement:t.fromElement?t.fromElement:null},getWheelDelta:function(t){return!t&&(t=this.getEvent()),t?t.wheelDelta?client.engine.opera&&client.engine.opera<9.5?-t.wheelDelta:t.wheelDelta:40*-t.detail:0}},e.prototype.al=function(t,e,i){i&&this.evtObj[t]||(!this.evtObj[t]&&(this.evtObj[t]=[]),this.evtObj[t].push(e))},e.prototype.rl=function(t,e){var i=this.evtObj[t];if(p(i))for(var n=i.length;n--;)i[n]==e&&i.splice(n,1)},e.prototype.re=function(t,e){var i=this.evtObj[t];if(p(i))for(var n=0,r=i.length;r>n;n++)"function"==typeof i[n]&&i[n](t,e)},this.xh5_EvtDispatcher=e,this.$DOM=function(t,e){return e=e||document,e.getElementById(t)},this.$C=function(t,e){var i=document.createElement(t);return e&&(i.id=e),i},this.$T=function(t){return document.createTextNode(t)},this.$CONTAINS=function(t,e){if(t.compareDocumentPosition)return t===e||!!(16&t.compareDocumentPosition(e));if(t.contains&&1===e.nodeType)return t.contains(e)&&t!==e;for(;e=e.parentNode;)if(e===t)return!0;return!1},this.getTextNodes=function(t){var e=[];for(t=t.firstChild;t;t=t.nextSibling)3==t.nodeType?e.push(t):e=e.concat(arguments.callee(t));return e},this.getCSS=function(t){var e=null;return e=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle},this.fBind=i,this.isColor=function(t){return/^#[0-9a-fA-F]{3,6}$/.test(t)},this.isColorRGB=function(t){return/(^#[0-9a-fA-F]{3,6}$)|(^rgba?\(.{5,16}\)$)/.test(t)},this.randomColor=function(){for(var t=Math.floor(16777215*Math.random()).toString(16);t.length<6;)t+="0";return t},this.hex2dec=function(t,e,i){if(0==t.indexOf("rgb"))return t;t=t.replace(/#|0x/i,"");var n,r,a;t.replace(/(\w{6})|(\w{3})/,function(e,i,o){if(i)n=t.slice(0,2),r=t.slice(2,4),a=t.slice(4);else{if(!o)return[0,0,0];var s=t.split("");n=s[0],n+=String(n),r=s[1],r+=String(r),a=s[2],a+=String(a)}});var o;return isNaN(e)?(o=[parseInt(n,16),parseInt(r,16),parseInt(a,16)],i?o:"rgb($color)".replace("$color",o.join(","))):(o=[parseInt(n,16),parseInt(r,16),parseInt(a,16),e],i?o:"rgba($color)".replace("$color",o.join(",")))},this.getTimestamp=n,this.cssUtil={inject:function(t){var e=document.createElement("style"),i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),i.appendChild(e)},adCls:function(t,e){if(t.className!=e){var i=t.className.split(" ");for(var n in i)if(i.hasOwnProperty(n)&&i[n]==e)return;""==t.className?t.className=e:t.className+=" "+e}},rmCls:function(t,e){if(-1!=t.className.indexOf(e))if(t.className==e)t.className="";else{var i=t.className.split(" "),n="";for(var r in i)if(i.hasOwnProperty(r)){if(i[r]==e)continue;""!=n&&(n+=" "),n+=i[r]}t.className=n}}},this.load=a;var S,T=new function(){var t=S||{};S=t;var e=function(e,i){for(var n=t[e][i?"errCbArr":"cbArr"],r=n.length;r--;){var a=n[r];f(a)&&a()}t[e]=null,delete t[e]};this.load=function(n,o,s,l){var u="urlhash_"+r(n);for(var c in t)if(t.hasOwnProperty(c)&&c==u)return t[c].cbArr.push(o),void t[c].errCbArr.push(s);t[u]={url:n,cbArr:[o],errCbArr:[s]},a(n,i(e,this,u),i(e,this,u,!0),l)}};this.relyLoader=T,this.iframer=function(t,e){function i(){if(document&&document.body){clearInterval(r),o=0;var t=document.body;t.insertBefore(n,t.firstChild),n.setAttribute("data-ready","1")}else o++>9&&(clearInterval(r),f(e)&&e())}var n,r,a=t.attribute?t.attribute.id||"_kkeiframe"+(new Date).getTime():"_kkeiframe"+(new Date).getTime(),o=0;if(!(n=document.getElementById(a))){if(n=document.createElement("iframe"),n.setAttribute("data-ready","0"),t.attribute)for(var s in t.attribute)t.attribute.hasOwnProperty(s)&&(n[s]=t.attribute[s]);if(n.style.height=n.style.width=0,n.style.borderStyle="none",n.style.position="absolute",n.style.zIndex=-9,n.style.display="none",t.style)for(var l in t.style)t.style.hasOwnProperty(l)&&(n.style[l]=t.style[l]);r=setInterval(i,500),i()}return n},this.ca=function(t){if(t)for(;t.length>0;)t.length--},this.isRepos=function(t){return/^(sh204\d{3}|sz1318\d{2})$/.test(t)},this.market=function(t){return/^s[hz]\d{6}$/.test(t)?"CN":/^s[hz]\d{6}_i$/.test(t)?"CNI":/^sb[48]\d{5}$/.test(t)?"OTC":/^[48]\d{5}$/.test(t)?"OTC":/^otc_\d{6}$/.test(t)?"OTC":/^btc_\w+/.test(t)?"BTC":/^gb_.+$/.test(t)?"US":/^(hk|rt_hk)\w+/.test(t)?"HK":/^hf_\w+/.test(t)?"HF":/^nf_\w+/.test(t)?"NF":/^f_\d{6}$/.test(t)||/^fu_\d{6}$/.test(t)||/^pwbfbyd_\d{6}$/.test(t)||/^pwbfbjd_\d{6}$/.test(t)||/^pwbfbnd_\d{6}$/.test(t)||/^ljjz_\d{6}$/.test(t)||/^dwjz_\d{6}$/.test(t)||/^lshb_\d{6}$/.test(t)?"fund":/^CON_OP_\w+/.test(t)?"option_cn":/^P_OP_\w+/.test(t)?"op_m":/^znb_\w+/.test(t)?"global_index":/^fx_.+$/.test(t)?"forex":/^(DINIW|USDCNY)$/.test(t)?"forex_yt":/^CFF_RE_.+$/.test(t)?"CFF":/\d+$/.test(t)?"NF":void 0},this.cookieUtil={escape:function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},get:function(t){var e=document.cookie.match("(?:^|;)\\s*"+this.escape(t)+"=([^;]*)");return e?e[1]||"":""},set:function(t,e,i){!i&&(i={}),e||(e="",i.expires=-1);var n="";if(i.expires&&(Number(i.expires)||i.expires.toUTCString)){var r;Number(i.expires)?(r=new Date,r.setTime(r.getTime()+1e3*i.expires)):r=i.expires,n="; expires="+r.toUTCString()}var a=i.path?"; path="+i.path:"",o=i.domain?"; domain="+i.domain:"",s=i.secure?"; secure":"";document.cookie=[t,"=",e,n,a,o,s].join("")}};var k=new function(){function t(){a(e,function(){for(;d.length;){var t=d.pop();SUDA.uaTrack.apply(null,t)}},function(){h--,h&&t(),h||(d=[])})}var e="https://wwws.sinaimg.cn/unipro/pub/suda_s_v851c.js",i=navigator.userAgent||"unknownUa";i=encodeURIComponent("_UA_"+i);var n,r,o="chart_finance",s="",l=",",c=[],h=5,d=[],f="undefined"==typeof SUDA;if(f)try{u.xh5_EvtUtil.addHandler(document,"DOMContentLoaded",function(){for(var e=document.getElementsByTagName("script"),i=e.length;i--;)if(e[i].src.indexOf("suda")>-1){f=!1;break}f&&t()})}catch(p){}var m=function(){for(var t,e="",n=0,a=c.length;a>n;n++)t=c[n],e+=[t.k,t.v].join(s)+l;for(;c.length;)c.length--;if(e!==r){r=e,e+=i;try{SUDA.uaTrack(o,e)}catch(u){h&&d.push([o,e])}}};this.s=function(t,e,i){if(t){(isNaN(i)||0>i)&&(i=3e3),e=JSON.stringify(e),e||(e=""),e=encodeURIComponent(e);for(var r=c.length;r--;)if(c[r].k==t){c.splice(r,1);break}c.push({k:t,v:e}),clearTimeout(n),n=setTimeout(m,i)}};var g,v;this.s2=function(t,e,i){if(i=i||"chart_detail",v!=t||g!=i){g=i,v=t,setTimeout(function(){g=void 0,v=void 0},99);try{SUDA.uaTrack(i,e||t)}catch(n){h&&d.push([i,e||t])}}},this.log=function(){try{SUDA.log()}catch(t){}}};this.sudaLog=k.log,this.stc=k.s,this.suda=k.s2,this.xh5_PosUtil={pp:function(t,e,i,n){return isNaN(t)||e>=t?n:t>=i?1:Math.max(n*(1-(t-e)/(i-e)),1)},ppp:function(t,e,i,n,r){return t=(t-r)/r,this.pp(t,e,i,n)},vp:function(t,e,i){return isNaN(t)||0>=t?i-1:i*(1-t/e)}},this.xh5_HtmlPosUtil={pageX:function(t){return t.offsetParent?t.offsetLeft+this.pageX(t.offsetParent):t.offsetLeft},pageY:function(t){return t.offsetParent?t.offsetTop+this.pageY(t.offsetParent):t.offsetTop},parentX:function(t){return t.parentNode==t.offsetParent?t.offsetLeft:this.pageX(t)-this.pageX(t.parentNode)},parentY:function(t){return t.parentNode==t.offsetParent?t.offsetTop:this.pageY(t)-this.pageY(t.parentNode)}},this.xh5_ADJUST_HIGH_LOW=new function(){var t=function(t){var e=parseInt(Math.round(100*t));return e%100!=0&&(e%10==0&&(e*=.1),e%5!=0&&e%2!=0)?!0:!1},e=function(t,e){if(e)for(;t>5;)if(t%2==0)t*=.5;else{if(t%3!=0)break;t/=3}else t>9&&(t%3==0?t/=3:t%4==0?t*=.25:t%2==0&&(t*=.5));return t};this.c=function(i,n,r,a,o,s){if(isNaN(i)||isNaN(n)||n>i)return[0,0,0];isNaN(s)||(s=(i-n)*s,i+=s,n-=s);for(var l,u,c,h,d,f,p,m,g,v,b,N,y,w,x=-1e-6,_=.5*(n+i),S=a?[4,5,6,8,9,10,12,15,16,18,20]:[4,5,6,7,8,9,10,12,14,15,16,18,20],T=[1,2,3,4,5,6,8],k=!1,C=T.length,A=0,D=S.length;D>A;A++)for(k=!1,y=S[A],c=(i-n)/y,m=Math.pow(10,0-r);!k;){for(w=0;C>w;w++)if(h=m*T[w],h-c>x&&(1&y?(d=Math.round((_+.5*h)/h)*h,b=(d+.5*(y-1)*h).toFixed(5),N=(d-.5*(y+1)*h).toFixed(5)):(d=Math.round(_/h)*h,b=(d+.5*y*h).toFixed(5),N=(d-.5*y*h).toFixed(5)),f=Number(b),p=Number(N),f-i>x&&x>p-n)){if(k=!0,0>p&&!o&&(f-=p,p=0),!g){g=f-p,l=f,u=p,v=y;break}var O=(f-p)/e(y);if(1!=Math.round(100*O)&&1!=Math.round(10*O)&&t(O))break;if(f-p>g)break;if(f-p==g){var P=l-i,M=n-u,R=Math.abs(P-M);P=f-i,M=n-p;var I=Math.abs(P-M);if(I>=R)break}if(t(f))break;if(t(p))break;g=f-p,l=f,u=p,v=y;break}m*=10}return v=e(v,a),[l,u,v]}},this.xh5_S_KLC_D=function(t){var e,i,n,r,a,o,s,l=864e5,u=7657,c=[],h=[],d=~(3<<30),f=1<<30,p=[0,3,5,6,9,10,12,15,17,18,20,23,24,27,29,30],m=Math,g=function(){var l,u;for(l=0;64>l;l++)h[l]=m.pow(2,l),26>l&&(c[l]=v(l+65),c[l+26]=v(l+97),10>l&&(c[l+52]=v(l+48)));for(c.push("+","/"),c=c.join(""),i=t.split(""),n=i.length,l=0;n>l;l++)i[l]=c.indexOf(i[l]);return r={},e=o=0,a={},u=w([12,6]),s=63^u[1],{_1479:T,_136:S,_200:_,_139:k,_197:C}["_"+u[0]]||function(){return[]}},v=String.fromCharCode,b=function(t){return t==={}._},N=function(){var t,e;for(t=y(),e=1;;){if(!y())return e*(2*t-1);e++}},y=function(){var t;return e>=n?0:(t=i[e]&1<<o,o++,o>=6&&(o-=6,e++),!!t)},w=function(t,r,a){var s,l,u,c,d;for(l=[],u=0,r||(r=[]),a||(a=[]),s=0;s<t.length;s++)if(c=t[s],u=0,c){if(e>=n)return l;if(t[s]<=0)u=0;else if(t[s]<=30){for(;d=6-o,d=c>d?d:c,u|=(i[e]>>o&(1<<d)-1)<<t[s]-c,o+=d,o>=6&&(o-=6,e++),c-=d,!(0>=c););r[s]&&u>=h[t[s]-1]&&(u-=h[t[s]])}else u=w([30,t[s]-30],[0,r[s]]),a[s]||(u=u[0]+u[1]*h[30]);l[s]=u}else l[s]=0;return l},x=function(t){var e,i,n,a;for(t>1&&(e=0),e=0;t>e;e++)r.d++,n=r.d%7,(3==n||4==n)&&(r.d+=5-n);return i=new Date,a=60*i.getTimezoneOffset()*1e3,i.setTime((u+r.d)*l+a),i.setHours(i.getHours()+8),i},_=function(){var t,i,a,o,l;if(s>=1)return[];for(r.d=w([18],[1])[0]-1,a=w([3,3,30,6]),r.p=a[0],r.ld=a[1],r.cd=a[2],r.c=a[3],r.m=m.pow(10,r.p),r.pc=r.cd/r.m,i=[],t=0;o={d:1},y()&&(a=w([3])[0],0==a?o.d=w([6])[0]:1==a?(r.d=w([18])[0],o.d=0):o.d=a),l={date:x(o.d)},y()&&(r.ld+=N()),a=w([3*r.ld],[1]),r.cd+=a[0],l.close=r.cd/r.m,i.push(l),!(e>=n)&&(e!=n-1||63&(r.c^t+1));t++);return i[0].prevclose=r.pc,i},S=function(){var t,i,a,o,l,u,c,h,d,f,p;if(s>=2)return[];for(c=[],d={v:"volume",p:"price",a:"avg_price"},r.d=w([18],[1])[0]-1,h={date:x(1)},a=w(1>s?[3,3,4,1,1,1,5]:[4,4,4,1,1,1,3]),t=0;7>t;t++)r[["la","lp","lv","tv","rv","zv","pp"][t]]=a[t];for(r.m=m.pow(10,r.pp),s>=1?(a=w([3,3]),r.c=a[0],a=a[1]):(a=5,r.c=2),r.pc=w([6*a])[0],h.pc=r.pc/r.m,r.cp=r.pc,r.da=0,r.sa=r.sv=0,t=0;!(e>=n)&&(e!=n-1||7&(r.c^t));t++){for(l={},o={},f=r.tv?y():1,i=0;3>i;i++)if(p=["v","p","a"][i],(f?y():0)&&(a=N(),r["l"+p]+=a),u="v"==p&&r.rv?y():1,a=w([3*r["l"+p]+("v"==p?7*u:0)],[!!i])[0]*(u?1:100),o[p]=a,"v"==p){if(!(l[d[p]]=a)&&241>t&&(r.zv?!y():1)){o.p=0;break}}else"a"==p&&(r.da=(1>s?0:r.da)+o.a);r.sv+=o.v,l[d.p]=(r.cp+=o.p)/r.m,r.sa+=o.v*r.cp,l[d.a]=b(o.a)?t?c[t-1][d.a]:l[d.p]:r.sv?((m.floor((r.sa*(2e3/r.m)+r.sv)/r.sv)>>1)+r.da)/1e3:l[d.p]+r.da/1e3,c.push(l)}return c[0].date=h.date,c[0].prevclose=h.pc,c},T=function(){var t,e,i,n,a,o,l;if(s>=1)return[];for(r.lv=0,r.ld=0,r.cd=0,r.cv=[0,0],r.p=w([6])[0],r.d=w([18],[1])[0]-1,r.m=m.pow(10,r.p),a=w([3,3]),r.md=a[0],r.mv=a[1],t=[];a=w([6]),a.length;){if(i={c:a[0]},n={},i.d=1,32&i.c)for(;;){if(a=w([6])[0],63==(16|a)){l=16&a?"x":"u",a=w([3,3]),i[l+"_d"]=a[0]+r.md,i[l+"_v"]=a[1]+r.mv;break}if(32&a){o=8&a?"d":"v",l=16&a?"x":"u",i[l+"_"+o]=(7&a)+r["m"+o];break}if(o=15&a,0==o?i.d=w([6])[0]:1==o?(r.d=o=w([18])[0],i.d=0):i.d=o,!(16&a))break}n.date=x(i.d);for(o in{v:0,d:0})b(i["x_"+o])||(r["l"+o]=i["x_"+o]),b(i["u_"+o])&&(i["u_"+o]=r["l"+o]);for(i.l_l=[i.u_d,i.u_d,i.u_d,i.u_d,i.u_v],l=p[15&i.c],1&i.u_v&&(l=31-l),16&i.c&&(i.l_l[4]+=2),e=0;5>e;e++)l&1<<4-e&&i.l_l[e]++,i.l_l[e]*=3;i.d_v=w(i.l_l,[1,0,0,1,1],[0,0,0,0,1]),o=r.cd+i.d_v[0],n.open=o/r.m,n.high=(o+i.d_v[1])/r.m,n.low=(o-i.d_v[2])/r.m,n.close=(o+i.d_v[3])/r.m,a=i.d_v[4],"number"==typeof a&&(a=[a,a>=0?0:-1]),r.cd=o+i.d_v[3],l=r.cv[0]+a[0],r.cv=[l&d,r.cv[1]+a[1]+!!((r.cv[0]&d)+(a[0]&d)&f)],n.volume=(r.cv[0]&f-1)+r.cv[1]*f,t.push(n)}return t},k=function(){var t,e,i,n;if(s>1)return[];for(r.l=0,n=-1,r.d=w([18])[0]-1,i=w([18])[0];r.d<i;)e=x(1),0>=n?(y()&&(r.l+=N()),n=w([3*r.l],[0])[0]+1,t||(t=[e],n--)):t.push(e),n--;return t},C=function(){var t,i,a,o;if(s>=1)return[];for(r.f=w([6])[0],r.c=w([6])[0],a=[],r.dv=[],r.dl=[],t=0;t<r.f;t++)r.dv[t]=0,r.dl[t]=0;for(t=0;!(e>=n)&&(e!=n-1||7&(r.c^t));t++){for(o=[],i=0;i<r.f;i++)y()&&(r.dl[i]+=N()),r.dv[i]+=w([3*r.dl[i]],[1])[0],o[i]=r.dv[i];a.push(o)}return a};return g()()};var C={dd:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},ddt:function(t){return new Date(t.getTime())},stbd:function(t,e){return t&&e&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()?t.getDate()==e.getDate():!1},stbdt:function(t,e){return t&&e?t.getTime()==e.getTime():!1},stbs:function(t,e,i,n){return t.getFullYear()==e&&t.getMonth()==i?t.getDate()==n:!1},stbds:function(t,e,i){!i&&(i="-");var n=e.split(i);return this.stbs(t,Number(n[0]),Number(n[1])-1,Number(n[2]))},ds:function(t,e,i,n,r,a){"undefined"==typeof e&&(e="-");var o=[];if(n||o.push(t[i?"getUTCFullYear":"getFullYear"]()),!r){var s=t[i?"getUTCMonth":"getMonth"]()+1;o.push(10>s?"0"+s:s)}if(!a){var l=t[i?"getUTCDate":"getDate"]();o.push(10>l?"0"+l:l)}return o.join(e)},dss:function(t,e,i){var n=this.ds(t,e,i),r=[t["get"+(i?"UTC":"")+"Hours"]()],a=[t["get"+(i?"UTC":"")+"Minutes"]()],o=[t["get"+(i?"UTC":"")+"Seconds"]()],s=[10>r?"0"+r:r,10>a?"0"+a:a,10>o?"0"+o:o].join(":");return[n,s].join(" ")},dst:function(t,e,i){var n=[t["get"+(i?"UTC":"")+"Hours"]()],r=[t["get"+(i?"UTC":"")+"Minutes"]()],a=[10>n?"0"+n:n,10>r?"0"+r:r];if(e){var o=[t["get"+(i?"UTC":"")+"Seconds"]()];a.push(10>o?"0"+o:o)}return a.join(":")},sd:function(t,e){var i=t.split("-"),n=i[0],r=i[1]-1||0,a=i[2]||1,o=0,s=0,l=0;return e&&(i=e.split(":"),o=i[0]||0,s=i[1]||0,l=i[2]||0),new Date(n,r,a,o,s,l)},ssd:function(t){var e=t.split(" "),i=e[0],n=e[1];return this.sd(i,n)},gw:function(t,e){var i=6048e5,n=2592e5,r=(t.getTime()-n)/i,a=(e.getTime()-n)/i;return Math.floor(r)==Math.floor(a)},gm:function(t,e){return t.getFullYear()==e.getFullYear()?t.getMonth()==e.getMonth():!1},weekname:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"],nw:function(t){return this.weekname[t]||""}};this.dateUtil=C,this.LoadingSign=o;var A={trim:function(t){return t.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},ps:function(t,e){if(t=Number(t),isNaN(t))return"-";var i=Math.abs(t);return 1e5>i?t.toFixed(e):1e7>i?(t/1e4).toFixed(e)+"\u4e07":1e8>i?(t/1e7).toFixed(e)+"\u5343\u4e07":(t/1e8).toFixed(e)+"\u4ebf"},nu:function(t){return t=Number(t),t=Math.abs(t),1e5>t||isNaN(t)?[1,""]:1e7>t?[1e4,"\u4e07"]:1e8>t?[1e7,"\u5343\u4e07"]:[1e8,"\u4ebf"]},vs:function(t,e){var i,n="";return t>1e12?(i=(t/1e12).toFixed(0),n="\u4e07\u4ebf"):t>1e8?(i=(t/1e8).toFixed(2),n="\u4ebf"):t>1e5?(i=(t/1e4).toFixed(2),n="\u4e07"):i=t>=1?t.toFixed(0):"-",e?i+n:i},zp:function(t){return t=String(t),t.length<2?"0"+t:t}};this.strUtil=A,this.tUtil={s0:function(t){return t=parseInt(Number(t)),0>t?"":10>t?"0"+String(t):String(t)},tIWS:function(t,e){for(var i=[],n=t;e>=n;n++)i.push(this.s0(n/60)+":"+this.s0(n%60));return i},gtr:function(t){for(var e,i,n,r,a,o=[],s=0,l=t.length;l>s;s++)e=t[s][0],i=t[s][1],n=60*Number(e.split(":")[0])+Number(e.split(":")[1]),r=60*Number(i.split(":")[0])+Number(i.split(":")[1]),a=this.tIWS(n,r),o=o.concat(a);return o},tradingA:[],gta:function(){return this.tradingA.length||(this.tradingA=this.gtr([["9:30","11:29"],["13:00","15:00"]])),this.tradingA},tradingUs:[],gtus:function(){return this.tradingUs.length||(this.tradingUs=this.gtr([["9:30","16:00"]])),this.tradingUs},tradingHk:[],gthk:function(){return this.tradingHk.length||(this.tradingHk=this.gtr([["09:30","11:59"],["13:00","16:00"]])),this.tradingHk},trading:[],gtAll:function(t){return this.trading=this.gtr(t),this.trading},gata:function(t,e){var i;switch(t){case"US":i=this.gtus();break;case"HK":i=this.gthk();break;case"NF":i=this.gtAll(e);break;case"HF":case"global_index":i=this.gtAll(e);break;default:case"CN":i=this.gta()}return i},ist:function(t,e){return t=t.toUpperCase(),N(this.gata(t),e)>=0},gltbt:function(t,e,i,n,r,a){for(var o,s=[],l=this.gata(n,a),u=l.length,c=0,h=0,d=t*u;d>c;c++)o={time:l[c%u],price:0,percent:0,avg_price:0,volume:-.01,inventory:0},c%u==0&&r&&(o.date=r[h],h++),s.push(o),i||(s[c].price=s[c].avg_price=e);return s[0].price=s[0].avg_price=s[0].prevclose=e,s[0].volume=s[0].totalVolume=s[0].totalAmount=0,s[0].inventory=0,s},azft:function(t,e){if(!t)return t;for(var i=this.gata(e),n=0,r=t.length;r>n;n++)t[n].time=i[n];return t[0].date.setHours(0),t}},this.kUtil={mw:function(t,e,i,n,r){"number"!=typeof n&&(n=0);var a=t.length,o=t[0];n>1&&(o.volume/=n);var s,l=[],u=[];if(1==a)l[0]={open:e.open,high:e.high,low:e.low,close:e.price,volume:e.totalVolume,date:C.dd(e.date)},u[0]={open:e.open,high:e.high,low:e.low,close:e.price,volume:e.totalVolume,date:C.dd(e.date)};else for(var c,h=o.open,d=o.high,f=o.low,p=o.close,m=o.volume,g=o.date,v=o.open,b=o.high,N=o.low,y=o.close,w=o.volume,x=o.date,_=1;a>_;_++)o=t[_],n>1&&(o.volume/=n),C.gw(t[_-1].date,o.date)?(o.high>d&&(d=o.high),o.low<f&&(f=o.low),p=o.close,m+=o.volume,g=o.date):(isNaN(r)||(s=g.getDay(),0==s&&(s=7),c=s-r,c>0&&(g=C.ddt(g),g.setDate(g.getDate()-c))),l.push({open:h,high:d,low:f,close:p,volume:m,date:g}),h=o.open,d=o.high,f=o.low,p=o.close,m=o.volume,g=o.date),C.gm(t[_-1].date,o.date)?(o.high>b&&(b=o.high),o.low<N&&(N=o.low),y=o.close,w+=o.volume,x=o.date):(isNaN(r)||(s=x.getDay(),0==s&&(s=7),c=s-r,c>0&&(x=C.ddt(x),x.setDate(x.getDate()-c))),u.push({open:v,high:b,low:N,close:y,volume:w,date:x}),v=o.open,b=o.high,N=o.low,y=o.close,w=o.volume,x=o.date),_==a-1&&(l.push({open:h,high:d,low:f,close:p,volume:m,date:g}),u.push({open:v,high:b,low:N,close:y,volume:w,date:x}));return l[0].prevclose=i,u[0].prevclose=i,[l,u]},nc:function(t,e,i,n){if(t&&!(t.length<1)){n=n||{};var r=t[t.length-1];if(168==i&&C.gw(r.date,e.date)||720==i&&C.gm(r.date,e.date))return r.day=String(e.today).split("-").join("/"),void(r.date=C.dd(e.date));r=t[t.length-1];var a=r.close,o=e.price-a,s=o/a;t.push({open:isNaN(n.price)?a:n.price,high:isNaN(n.price)?e.high:n.price,low:isNaN(n.price)?e.low:n.price,close:isNaN(n.price)?e.price:n.price,volume:isNaN(n.volume)?e.totalVolume:n.volume,percent:s,day:String(e.today).split("-").join("/"),date:C.ddt(e.date),time:e.time,ampP:0,amplitude:0,change:o,kke_cs:0})}},pd:function(t,e){var i=t.length,n=t[0],r=n.prevclose;(isNaN(r)||0>=r)&&(r=n.open);for(var a=0;i>a;a++){if(n=t[a],e&&e.usePc&&(r=n.prevclose),n.amplitude=n.high-n.low,n.ampP=n.amplitude/r,n.change=n.close-r,n.percent=n.change/r,r=n.close,n.day){var o=n.day.split(" ");n.day=o[0],n.time=o[1].slice(0,5),n.date=C.sd(n.day,n.time),n.day=n.day.split("-").join("/")}else{var s=n.date,l=A.zp(s.getMonth()+1),u=A.zp(s.getDate());n.day=[s.getFullYear(),l,u].join("/")}n.kke_cs=n.close>n.open?1:n.open>n.close?-1:0}},ms:function(t,e,i,n,r){return i>t&&(t+=24),Math.max(1,Math.ceil((60*(t-i)+e-n)/r))},spk:function(t,e,i,n,r){if(t==e)return!0;var a=t.split(":"),o=Number(a[0]),s=Number(a[1]);a=e.split(":");var l=Number(a[0]),u=Number(a[1]);if(o>l&&3>o-l||o==l&&s>=u)return!0;if(60!=n||r&&/^forex/.test(r)){a=i.split(":");var c=Number(a[0]),h=Number(a[1]),d=this.ms(o,s,c,h,n),f=this.ms(l,u,c,h,n);return d==f}return"10:30"!=t&&"11:30"!=t&&"14:00"!=t&&"15:00"!=t||u==s?!0:!1},yd:function(t){for(var e=t[t.length-1].date.getFullYear(),i=[],n=t.length;n--&&t[n].date.getFullYear()==e;)i[i.length]=t[n];return i.reverse(),i[0].prevclose=t[n]?t[n].prevclose||t[n].close:i[0].prevclose||i[0].close,i},rd:function(t,e){var i=[],n=C.dd(e);n.setFullYear(n.getFullYear()-5);for(var r=t.length;r--&&!(t[r].date<n);)i[i.length]=t[r];return i.reverse(),i[0].prevclose=t[r]?t[r].close:i[0].close,i},adbd:function(t,e,i,n){for(var r,a,o,s,l=i?C.stbdt:C.stbd,u=t.length,c=e.length;c--;){if(o=e[c].date,1>u){c=e.length-t.length;for(var h=[],d=t[0];c-->0;){if(a=w(d)||{},a.isFake=!0,a.kke_cs=0,n)for(r in a)a.hasOwnProperty(r)&&m(a[r])&&(a[r]=0);h.push(a)}t=h.concat(t);break}for(var f=u--;f--&&(s=t[f].date,!l(o,s));){if(o>s){if(a=w(t[f]),a.isFake=!0,a.date=o,a.kke_cs=0,n)for(r in a)a.hasOwnProperty(r)&&m(a[r])&&(a[r]=0);t.splice(++f,0,a),u++;break}t.splice(f,1),u--}}return u>0&&t.splice(0,u),t},ayd:function(t,e,i,n,r){for(var a,o,s,l,u=C.stbd,c=t.length,h=e.length;h--;)if(s=e[h],!(s>r)){if(n>s&&!C.stbd(s,n))break;for(var d=c--;d--&&(l=t[d].date,!u(s,l));){if(s>l){o=w(t[d]);var f=o.close;for(a in o)o.hasOwnProperty(a)&&m(o[a])&&(o[a]=0);o.open=o.high=o.low=o.close=f,o.date=s,t.splice(++d,0,o),c++;break}t.splice(d,1),c--}}return c>0&&t.splice(0,c),t}},this.domGc=new function(){var t=u.$C("div");return t.style.display="none",function(e,i){if(e){if(e.hasChildNodes())for(;e.childNodes.length>0;)e.removeChild(e.firstChild);if(i)return void(e.innerHTML="");t.appendChild(e),t.innerHTML=""}}},this.getSUrl=function(t,e){if(!t)return null;for(var i,n,r=[{h:"finance.sina.com.cn",s:"finance.sina.com.cn"
},{h:"money.finance.sina.com.cn",s:"ex.sina.com.cn"},{h:"vip.stock.finance.sina.com.cn",s:"ex.sina.com.cn"},{h:"stock.finance.sina.com.cn",s:"stock.sina.com.cn"},{h:"stock2.finance.sina.com.cn",s:"stock.sina.com.cn"},{h:"www.sinaimg.cn",s:"wwws.sinaimg.cn"},{h:"n.sinaimg.cn",s:"ns.sinaimg.cn"},{h:"i0.sinaimg.cn",s:"i0s.sinaimg.cn"},{h:"i1.sinaimg.cn",s:"i1s.sinaimg.cn"},{h:"i2.sinaimg.cn",s:"i2s.sinaimg.cn"},{h:"i3.sinaimg.cn",s:"i3s.sinaimg.cn"},{h:"data.finance.sina.com.cn",s:"data.sina.com.cn"},{h:"biz.finance.sina.com.cn",s:"biz.sina.com.cn"},{h:"i.sso.sina.com.cn",s:"i.sso.sina.com.cn"},{h:"touzi.sina.com.cn",s:"touzi.sina.com.cn"}],a=t.match(/(\w*:\/\/)?([^\/]+)(\/+.*)?/i),o=a[2],s=a[3],l=r.length;l--;)if(r[l].h==o){n=r[l].s;break}return i=n?["https://",n,s].join(""):e?t:["https://",o,s].join("")},this.TipM=s,this.logoM=new function(){var t="data:image/png;base64,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",e=u.$C("img"),i=!1,n=[],r=[],a=function(){u.xh5_EvtUtil.addHandler(e,"load",function(){for(i=!0;n.length;){var t=n.shift();s(t)}}),e.src=t},o=function(t){if(t.logo&&!u.xh5_BrowserUtil.noH5){var e=t.logo;t.color||(t.color="#ccc");var i=u.hex2dec(t.color,0/0,!0);(!i||i.length<3)&&(i=[200,200,200]);for(var n=e.getContext("2d"),r=n.getImageData(0,0,e.width,e.height),a=i[0],o=i[1],s=i[2],l=0,c=r.data.length;c>l;l+=4)0!=r.data[l+3]&&(r.data[l]=a,r.data[l+1]=o,r.data[l+2]=s);n.putImageData(r,0,0)}},s=function(t){if(u.xh5_BrowserUtil.noH5)return null;if(!i){for(var a=n.length;a--;)if(n[a].id==t.id)return null;return n.push(t),null}var s;s=u.$C("canvas",t.id),s.style.zIndex=0,r.push(s),s.style.position="absolute",s.style.top=t.top+"px",s.style.right=t.right+"px",s.width=e.width,s.height=e.height,s.style.width=t.LOGO_W+"px",s.style.height=t.LOGO_H+"px";var l=s.getContext("2d");if(t.isShare){var c=u.xh5_BrowserUtil.hdpr;if(2>c){var h=c/2;l.scale(h,h)}}return l.drawImage(e,0,0),o({logo:s,color:t.color}),f(t.cb)&&t.cb(s),s};this.getLogo=s,this.styleLogo=o,a()},this.grabM=new function(){var t=function(t){var e=t.dom,i=t.child;if(!e||!i)return null;d(e)&&(e=u.$DOM(e));var n=e.getElementsByTagName(i);if(!n||n.length<1)return null;var r=u.xh5_BrowserUtil.hdpr,a=e.offsetWidth,o=e.offsetHeight,s=u.$C("canvas"),l=s.getContext("2d");s.style.width=a+"px",s.style.height=o+"px",s.width=a*r,s.height=o*r,1!=r&&l.scale(r,r);var c=u.xh5_HtmlPosUtil.pageX(e),h=u.xh5_HtmlPosUtil.pageY(e),f=u.xh5_HtmlPosUtil.parentY(e);l.textBaseline="top";for(var p,m,g=0,v=n.length;v>g;g++){p=n[g],m=u.getCSS(p);var b=u.xh5_HtmlPosUtil.pageX(p)-c,N=u.xh5_HtmlPosUtil.pageY(p)-h,y=Number(m.paddingLeft.split("px")[0]),w=.5*(Number(m.lineHeight.split("px")[0])-Number(m.fontSize.split("px")[0]));l.fillStyle=m.backgroundColor,l.fillRect(b,N,p.offsetWidth,p.offsetHeight),l.font=[m.fontSize,m.fontFamily].join(" "),l.fillStyle=m.color,l.fillText(p.innerHTML,b+y,N+w)}return{canvas:s,x:c,y:f}},e=function(t,e){if(u.POST){var i=e.txt||"",n=e.url||"",r="_"+Math.floor(1e3*Math.random());window.open("about:blank",r);var a=u.getSUrl("http://stock.finance.sina.com.cn/misc/userapi/Pic4Weibo.php");u.POST(a,{imgData:t,symbol:"imgData"},function(t){t&&t.match(/^http.+/)&&(t=encodeURIComponent(t),t="http://service.weibo.com/share/share.php?source=bookmark&title="+encodeURIComponent(i)+"&url="+encodeURIComponent(n)+"&pic="+t,window.open(t,r))})}},i=function(i){if(!u.xh5_BrowserUtil.noH5){var n=i.ctn;if(n){for(var r,a,o=n.getElementsByTagName("canvas"),s=i.w||n.offsetWidth,l=i.h||n.offsetHeight,c=u.xh5_BrowserUtil.hdpr,h=[],d=u.xh5_HtmlPosUtil.pageX(n),f=u.xh5_HtmlPosUtil.pageY(n),m=o.length;m--;){a=o[m],r=a.style.zIndex;var g,v=!1;for(g=i.ignoreZIdxArr.length;g--;)if(r==i.ignoreZIdxArr[g]){v=!0;break}if(!v){for(g=i.ignoreIdArr.length;g--;)if(a.id==i.ignoreIdArr[g]){v=!0;break}if(!v){var b={canvas:a,x:u.xh5_HtmlPosUtil.pageX(a)-d,y:u.xh5_HtmlPosUtil.pageY(a)-f};h.push(b)}}}if(!i.nologo){var N=u.logoM.getLogo({cb:null,id:"share_logo",isShare:!0,top:i.top,right:i.right,LOGO_W:i.LOGO_W,LOGO_H:i.LOGO_H,color:i.color});N&&h.push({canvas:N,x:s-Number(N.style.right.split("px")[0])-i.LOGO_W,y:Number(N.style.top.split("px")[0])})}if(i.extra){!p(i.extra)&&(i.extra=[i.extra]);for(var y=0,w=i.extra.length;w>y;y++){var x=t(i.extra[y]);x&&(h=h.concat(x))}}var _=u.$C("canvas"),S=_.getContext("2d");_.style.width=s+"px",_.style.height=l+"px",_.width=s*c,_.height=l*c,S.fillStyle=i.bgColor,S.fillRect(0,0,s,l);for(var T=0,k=h.length;k>T;T++){var C=h[T];S.drawImage(C.canvas,C.x*c,C.y*c)}e(_.toDataURL("image/png").substring(22),i)}}};this.shareTo=i},this.bridge=new function(){function t(t,e){for(var i in t)t.hasOwnProperty(i)&&(t[i]=e+t[i])}var e,i,n=!1,r="sinatkchart_SLBridge~",a={SAVE:"save",LOAD:"load",REMOVE:"remove",DATA:"data",READY:"ready"};t(a,r);var o=[],s={},l=[],c=function(t){var e=t,i=e.key,n=e.options,r=e.value;_.save(i,r,n)},h=function(t){return n?void 0:i?void i.postMessage(JSON.stringify({type:a.SAVE,content:t}),"*"):void l.push([t])},d=function(t){var e=t,i=e.key,n=e.options;return _.load(i,n)},f=function(t,e){if(!n){if(!i)return void o.push([t,e]);s[t.uid]=e;var l=t.type?r+t.type:a.LOAD;i.postMessage(JSON.stringify({type:l,content:t}),"*")}},p=function(t,e,i){var n=d(t);e(n),i||f(t,e)},m=function(t,e){t&&(c(t),e||h(t))},g=new function(){var t=function(t){if(t&&t.type){var e=t.type;if(-1!=e.indexOf(r))return e}return void 0},n=function(){for(var t;o.length;)t=o.shift(),p(t[0],t[1]);for(;l.length;)t=l.shift(),m(t[0])};this.onMsg=function(r){var o;try{o=JSON.parse(r.data)}catch(l){}var c=t(o);if(c)switch(c){case a.READY:i=e.contentWindow,n();break;case a.DATA:if(!u.isFunc(s[o.uid]))return;s[o.uid](o.result),s[o.uid]=null,delete s[o.uid]}}},v=function(){n=!0;for(var t in s)s.hasOwnProperty(t)&&(s[t]=null,delete s[t]);for(;o.length;)o.length--;for(;l.length;)l.length--},b="SINA_CHART_BRIDGE";u.xh5_EvtUtil.addHandler(window,"message",g.onMsg),e=u.iframer({attribute:{id:b,src:"https://current.sina.com.cn/sinatkchart/SLBridge.html?20160704"}},v),setTimeout(function(){e.style.display="none"},999),this.load=p,this.save=m,this.getStatus=function(){return i&&!n&&"1"==e.getAttribute("data-ready")}},this.colorPicker=function(){function t(t,e){var i=function(){},n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var r in n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t}function e(t,i,n){if(!i)return t;t||(t={});for(var r in i)i.hasOwnProperty(r)&&("Object"===A(i[r])?(!t[r]&&(t[r]={}),e(t[r],i[r],n)):!n&&r in t||(t[r]=i[r]));return t}function i(t){var e="undefined"==typeof getComputedStyle?t.currentStyle:getComputedStyle(t);return e?(t.clientWidth||v(e.width)||v(t.style.width))-(v(e.paddingLeft)||0)-(v(e.paddingRight)||0)|0:0}function n(t){var e="undefined"==typeof getComputedStyle?t.currentStyle:getComputedStyle(t);return e?(t.clientHeight||v(e.height)||v(t.style.height))-(v(e.paddingTop)||0)-(v(e.paddingBottom)||0)|0:0}function r(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function a(t){var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)}function o(t,e){var r=document.createElement("canvas"),a=r.style,o=i(t),s=n(t),l=o*e.width,u=s*e.height;return r.width=l,r.height=u,a.position="absolute",a.width=l+"px",a.height=u+"px",a.left=o*e.left+"px",a.top=s*e.top+"px",t.appendChild(r),r}function s(t,e){var r=document.createElement("ul"),a=r.style,o=e.label,s=i(t),u=n(t);a.listStyle="none",a.padding=0,a.margin=0,a.font=e.font,a.position="absolute",a.left=s*e.left+"px",a.top=u*e.top+"px";for(var c=0,h=o.length;h>c;c++)l(r,c,e);return t.appendChild(r),r}function l(t,e,i){var n=document.createElement("li"),r=document.createElement("label"),a=document.createElement("input"),o=r.style,s=n.style,l=a.style;return r.innerHTML=i.label[e],o.textAlign="right",o.display="inline-block",o.width=i.labelWidth+"px",o.color=i.color,"number"==i.type&&(a.type="number"),l.width=i.inputWidth+"px",s.marginBottom=i.gap+"px",S(a,"mousemove",function(t){T(t)}),n.appendChild(r),n.appendChild(a),t.appendChild(n),n}function c(t,e){var r=document.createElement("div"),a=r.style,o=i(t),s=n(t);return a.position="absolute",a.left=o*e.left+"px",a.top=s*e.top+"px",a.width=o*e.width+"px",a.height=s*e.height+"px",t.appendChild(r),r}function h(t,e){function i(i){i=O(e,i),t._onmousemove(i.NyanX,i.NyanY),t.onmousemove&&t.onmousemove(t)}function n(t){o=!0,i(t)}function r(t){o&&i(t),T(t),k(t)}function a(){o&&(o=!1)}var o=!1;"ontouchend"in window?(S(e,"touchstart",n),S(e,"touchmove",r),S(e,"touchend",a)):(S(e,"mousedown",n),S(e,"mousemove",r),S(e,"mouseup",a),S(e,"mouseout",a))}function d(t,e,i){return t=Math.round(t),e>t?e:t>i?i:t}function f(t,e,i){return e>t?e:t>i?i:t}function p(t){return t.length&&"%"===t.charAt(t.length-1)?d(parseFloat(t)/100*255,0,255):d(parseInt(t,10),0,255)}function m(t){return t.length&&"%"===t.charAt(t.length-1)?f(parseFloat(t)/100,0,1):f(parseFloat(t),0,1)}function g(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function b(t){var e=(parseFloat(t[0])%360+360)%360/360,i=m(t[1]),n=m(t[2]),r=.5>=n?n*(i+1):n+i-n*i,a=2*n-r;return[f(255*g(a,r,e+1/3),0,255),f(255*g(a,r,e),0,255),f(255*g(a,r,e-1/3),0,255)]}function N(t){if(t){var e,i,n=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(n,r,a),s=Math.max(n,r,a),l=s-o,u=(s+o)/2;if(0===l)e=0,i=0;else{i=.5>u?l/(s+o):l/(2-s-o);var c=((s-n)/6+l/2)/l,h=((s-r)/6+l/2)/l,d=((s-a)/6+l/2)/l;n===s?e=d-h:r===s?e=1/3+c-d:a===s&&(e=2/3+h-c),0>e&&(e+=1),e>1&&(e-=1)}return[360*e,i,u]}}function y(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if("#"!==e.charAt(0)){var i=e.indexOf("("),n=e.indexOf(")");if(-1!==i&&n+1===e.length){var r=e.substr(0,i),a=e.substr(i+1,n-(i+1)).split(",");switch(r){case"rgb":if(3!==a.length)return;return[p(a[0]),p(a[1]),p(a[2])];case"hsl":if(3!==a.length)return;return b(a);default:return}}}else{if(4===e.length){var o=parseInt(e.substr(1),16);if(!(o>=0&&4095>=o))return;return[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4]}if(7===e.length){if(o=parseInt(e.substr(1),16),!(o>=0&&16777215>=o))return;return[(16711680&o)>>16,(65280&o)>>8,255&o]}}}}function w(t){var e=[(+t[0]).toFixed(0),(+t[1]).toFixed(0),(+t[2]).toFixed(0)];return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function x(t){var e=[t[0].toFixed(0),(100*t[1]).toFixed(0)+"%",(100*t[2]).toFixed(0)+"%"];return"hsl("+e.join(",")+")"}function _(t,e){if(t){var i="Array"==A(t)?t:y(t);switch(e){case"rgb":return e+"("+i.join(",")+")";case"hex":return"#"+w(i);case"hsl":return x(N(i))}}}if("undefined"!=typeof getComputedStyle){var S=function(){return window.addEventListener?function(t,e,i){t.addEventListener(e,i)}:function(t,e,i){t.attachEvent("on"+e,i)}}(),T=function(){return window.addEventListener?function(t){t.stopPropagation()}:function(t){t.cancelBubble=!0}}(),k=function(){return window.addEventListener?function(t){t.preventDefault()}:function(t){t.returnValue=!1}}(),C=Object.prototype.toString,A=function(t){return null===t?"Null":void 0===t?"Undefined":C.call(t).slice(8,-1)},D=function(t,e){if(!t)return-1;if(t.indexOf)return t.indexOf(e);for(var i=t.length;i--;)if(t[i]===e)return i},O=function(t,e){if(e=e||window.event,null!=e.NyanX)return e;var i=e.type,n=i&&D(i,"touch")>=0;if(n){var a="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];if(a){var o=r(t);e.NyanX=a.clientX-o.left,e.NyanY=a.clientY-o.top}}else{var s=r(t);e.NyanX=e.clientX-s.left,e.NyanY=e.clientY-s.top,e.NyanDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e},P={width:320,height:200,zIndex:10002,backgroundColor:"#444",wrapShadow:"3px 3px 4px rgba(0, 0, 0, 0.4)",color:"#66ccff",picker:{left:.05,top:.15,width:.4,height:.65,size:10,color:"#000",lineWidth:1},slider:{left:.5,top:.15,width:.05,height:.65},rgbBox:{label:["R:","G:","B:"],font:"12px Microsoft YaHei",color:"#FFFEFA",gap:8,type:"number",labelWidth:15,inputWidth:36,left:.6,top:.15},hslBox:{label:["H:","S:","L:"],font:"12px Microsoft YaHei",color:"#FFFEFA",gap:8,type:"number",labelWidth:15,inputWidth:36,left:.78,top:.15},hexBox:{label:["#"],font:"12px Microsoft YaHei",color:"#FFFEFA",labelWidth:15,inputWidth:60,left:.03,top:.85},colorBox:{left:.63,top:.6,width:.32,height:.2},okBtn:{text:"\u786e\u5b9a",backgroundColor:"#6C6C6C",color:"#FFFEFA",font:"12px Microsoft YaHei",left:.65,top:.87,width:.12,height:.1},cancelBtn:{text:"\u53d6\u6d88",backgroundColor:"#6C6C6C",color:"#FFFEFA",font:"12px Microsoft YaHei",left:.83,top:.87,width:.12,height:.1}},M=function(t,i){e(this,i),this.background=o(t,i),this.layer=o(t,i),this.H=0,this.S=0,h(this,this.layer),this.paintBG()};M.prototype={constructor:M,paintBG:function(){for(var t=this.background,e=t.getContext("2d"),i=t.width,n=t.height,r=e.createLinearGradient(0,0,i,0),a=0;1>a;a+=1/6)r.addColorStop(a,"hsl("+360*a+" , 100%, 50%)");e.fillStyle=r,e.fillRect(0,0,i,n),r=e.createLinearGradient(0,0,0,n),r.addColorStop(0,"hsla(0, 0%, 50%, 0)"),r.addColorStop(1,"hsla(0, 0%, 50%, 1)"),e.fillStyle=r,e.fillRect(0,0,i,n)},_onmousemove:function(t,e){var r=this.layer,a=i(r),o=n(r);this.H=t/a*360,this.S=(o-e)/o},updatePoint:function(){var t=this.layer,e=t.getContext("2d"),r=this.size,a=i(t),o=n(t),s=this.H*a/360,l=o-this.S*o;e.clearRect(0,0,t.width,t.height),e.beginPath(),e.moveTo(s-r,l),e.lineTo(s+r,l),e.moveTo(s,l-r),e.lineTo(s,l+r),e.strokeStyle="black",e.lineWidth=2,e.stroke()},update:function(t){this.H=t[0],this.S=t[1],this.updatePoint()}};var R=function(t,i){e(this,i),this.background=o(t,i),this.layer=o(t,i),this.L=.5,h(this,this.layer)};R.prototype={constructor:R,paintBG:function(t){var e=this.background,i=e.getContext("2d"),n=e.width,r=e.height,o=i.createLinearGradient(0,0,0,r);a(e),o.addColorStop(0,"#fff"),o.addColorStop(.5,"hsl("+(+t[0]).toFixed(0)+", "+(100*t[1]).toFixed(0)+"%, 50%)"),o.addColorStop(1,"#000"),i.fillStyle=o,i.fillRect(0,0,n,r)},_onmousemove:function(t,e){var i=this.layer,r=n(i);this.L=(r-e)/r},updatePoint:function(t){for(var e=this.layer,i=e.getContext("2d"),r=n(e),a=r-this.L*r,o=b(t),s=o.length;s--;)o[s]=(255-o[s]).toFixed(0);i.clearRect(0,0,e.width,e.height),i.beginPath(),i.moveTo(0,a+.5),i.lineTo(e.width,a+.5),i.strokeStyle=_(o,"hex"),i.lineWidth=3,i.stroke()},update:function(t){this.L=t[2],this.paintBG(t),this.updatePoint(t)}};var I=function(t,e){var i=this;this.box=s(t,e),S(this.box,"input",function(t){t.target.value=d(t.target.value,0,255),i.oninput&&i.oninput(t)})};I.prototype={constructor:I,getRGB:function(){var t=this.box.childNodes;return"rgb("+t[0].childNodes[1].value+", "+t[1].childNodes[1].value+", "+t[2].childNodes[1].value+")"},getRGBArr:function(){var t=this.box.childNodes;return[t[0].childNodes[1].value,t[1].childNodes[1].value,t[2].childNodes[1].value]},update:function(t){for(var e=this.box.childNodes,i=b(t),n=0,r=i.length;r>n;n++)e[n].childNodes[1].value=(+i[n]).toFixed(0)}};var E=function(t,e){var i=this;this.box=s(t,e);var n=this.box.childNodes;S(n[0].childNodes[1],"input",function(t){t.target.value=d(t.target.value,0,360),i.oninput&&i.oninput(t)}),S(n[1].childNodes[1],"input",function(t){t.target.value=d(t.target.value,0,100),i.oninput&&i.oninput(t)}),S(n[2].childNodes[1],"input",function(t){t.target.value=d(t.target.value,0,100),i.oninput&&i.oninput(t)})};E.prototype={constructor:E,getHSL:function(){var t=this.box.childNodes;return"hsl("+t[0].childNodes[1].value+", "+t[1].childNodes[1].value+"%, "+t[2].childNodes[1].value+"% )"},getHSLArr:function(){var t=this.box.childNodes;return[t[0].childNodes[1].value,t[1].childNodes[1].value/100,t[2].childNodes[1].value/100]},update:function(t){for(var e=this.box.childNodes,i=0,n=t.length;n>i;i++)e[i].childNodes[1].value=(i>0?100*t[i]:+t[i]).toFixed(0)}};var F=function(t,e){var i=this;this.box=s(t,e);var n=this.box.childNodes;S(n[0].childNodes[1],"input",function(t){t.target.value=t.target.value.replace(/[^0-9A-Fa-f]/g,"").slice(0,6);var e=t.target.value.length;6==e&&i.oninput&&i.oninput(t)})};F.prototype={constructor:F,getHEX:function(){return"#"+this.box.childNodes[0].childNodes[1].value},update:function(t){var e=this.box.childNodes;e[0].childNodes[1].value=w(b(t))}};var L=function(t,e){this.btn=c(t,e);var i=this.btn.style;this.btn.innerHTML=e.text,i.font=e.font,i.lineHeight=n(t)*e.height+"px",i.textAlign="center",i.backgroundColor=e.backgroundColor,i.color=e.color,i.cursor="pointer"},H=function(t,e){this.box=c(t,e),this.box.style.backgroundColor="#000"};H.prototype={constructor:H,update:function(t){for(var e=b(t),i=e.length;i--;)e[i]=(+e[i]).toFixed(0);this.box.style.backgroundColor="rgb("+e[0]+", "+e[1]+", "+e[2]+")"}};var U=function(t){t=t||{},this.param=e(t,P),this.inited=!1,u.xh5_EvtDispatcher.call(this)};return U.prototype={constructor:U,init:function(){if(!this.inited){var t=this.param,e=N(y(t.color));this._initDoms(t),this._initEvent(),this.update(e),document.body.appendChild(this.wrap),this.inited=!0}},_initDoms:function(t){var e=document.createElement("div"),i=e.style;i.position="absolute",i.width=t.width+"px",i.height=t.height+"px",i.zIndex=t.zIndex,i.backgroundColor=t.backgroundColor,i.boxShadow=t.wrapShadow,i.transition="opacity 0.2s ease-in-out 0s",i.opacity=0,i.visibility="hidden",i.userSelect="none",i.webkitUserSelect="none",i.msUserSelect="none",i.mosUserSelect="none",this.wrap=e,this.picker=new M(e,t.picker),this.slider=new R(e,t.slider),this.rgbBox=new I(e,t.rgbBox),this.hslBox=new E(e,t.hslBox),this.hexBox=new F(e,t.hexBox),this.colorBox=new H(e,t.colorBox),this.okBtn=new L(e,t.okBtn),this.cancelBtn=new L(e,t.cancelBtn)},_initEvent:function(){function t(t){y=!0,n=+b.left.replace(/[^0-9.]/g,""),r=+b.top.replace(/[^0-9.]/g,""),t.targetTouches?(a=t.targetTouches[0].clientX,o=t.targetTouches[0].clientY):(a=t.clientX,o=t.clientY)}function e(t){y&&(t.targetTouches?(s=t.targetTouches[0].clientX-a,l=t.targetTouches[0].clientY-o):(s=t.clientX-a,l=t.clientY-o),b.left=+n+ +s+"px",b.top=+r+ +l+"px",T(t)),k(t)}function i(){y=!1}var n,r,a,o,s,l,u=this,c=this.wrap,h=this.picker,d=this.slider,f=this.rgbBox,p=this.hslBox,m=this.hexBox,g=this.okBtn,v=this.cancelBtn,b=c.style,y=!1;"ontouchend"in window?(S(c,"touchstart",t),S(c,"touchmove",e),S(c,"touchend",i)):(S(c,"mousedown",t),S(c,"mousemove",e),S(c,"mouseup",i),S(c,"mouseout",i)),h.onmousemove=function(){u.update([h.H,h.S,d.L])},d.onmousemove=function(){u.update([h.H,h.S,d.L])},p.oninput=function(){u.update(p.getHSLArr())},f.oninput=function(){u.update(N(f.getRGBArr()))},m.oninput=function(){u.update(m.getHEX())},S(g.btn,"click",function(){u.hide(),u.re("ok",[{rgb:f.getRGB(),hsl:p.getHSL(),hex:_(p.getHSL(),"hex")},u.target]),u.onok&&u.onok({rgb:f.getRGB(),hsl:p.getHSL(),hex:_(p.getHSL(),"hex")},u.target)}),S(v.btn,"click",function(){u.hide()})},show:function(t,e,i,n){!this.inited&&this.init();var r=this.wrap,a=r.style;a.left=(t?t:0)+"px",a.top=(e?e:0)+"px",a.visibility="visible",a.opacity=1,n&&this.update(n),this.target=i},hide:function(){if(this.inited){var t=this.wrap,e=t.style;e.visibility="hidden",e.opacity=0}},update:function(t){var e="Array"==A(t)?t:N(y(t));this.picker.update(e),this.slider.update(e),this.rgbBox.update(e),this.hslBox.update(e),this.hexBox.update(e),this.colorBox.update(e)}},t(U,u.xh5_EvtDispatcher),new U}}(),this.HQ_DOMAIN=l()}});;
xh5_define("cfgs.settinger",[],function(){"use strict";function t(t){this.uid=t,this.custom={show_underlay_vol:!0,show_ext_marks:!0,show_floater:!0,mousewheel_zoom:!0,keyboard:!0,history_t:"window",allow_move:!0,mouse_and_touch:!0,tchart_tap:!0,show_k_rangepercent:!0,k_0pct:"no",touch_prevent:!0,mini_threshold:{width:0/0,height:0/0},show_logo:!0,k_overlay:!1,stick:!0,smooth:!1,indicatorpanel_url:"https://current.sina.com.cn/sinatkchart/indicatorpanel.html?20160704",allow_indicator_edit:!0,storage_lv:2,indicator_reorder:!0,indicator_cvs_title:!1,indicator_reheight:!1,centerZoom:!0},this.PARAM={K_CL_NUM:260,updateRate:5,T_RATE:120,minCandleNum:15,maxCandleNum:0/0,defaultCandleNum:80,zoomUnit:90,zoomLimit:10,zoomArea:.15,I_Z_INDEX:50,G_Z_INDEX:30,_hd:1,setHd:function(t){"number"==typeof t&&(this._hd=t)},getHd:function(){return this._hd},isFlash:!1,LOGO_ID:"KKE_sina_finance_logo"},this.DIMENSION={extend_draw:!1,LOGO_W:80,LOGO_H:20,posY:0,posX:55,RIGHT_W:55,K_RIGHT_W:9,_w:void 0,_h:void 0,w_t:void 0,w_k:void 0,h_t:void 0,h_k:void 0,P_HV:.28,H_MA4K:13,H_TIME_PART:13,K_F_T:47,T_F_T:13,H_T_T:14,W_T_L:43,H_T_G:60,H_BLK:50,H_T_B:7,I_V_O:0,getOneWholeTH:function(){return this.H_T_T+this.H_T_G},H_RS:30,setStageW:function(t){this._w=t,this.w_k=t-this.posX-this.K_RIGHT_W,this.w_t=t-this.posX-this.RIGHT_W},setStageH:function(t,e){this._h=t,this.h_k=this.h_t=t-e-this.H_TIME_PART-this.H_MA4K},getStageW:function(){return this._w},getStageH:function(){return this._h}},this.STYLE={FONT_SIZE:12,FONT_FAMILY:"helvetica,arial,sans-serif"},this.COLOR={BG:"#fff",T_P:"#007cc8",T_AVG:"#000000",T_PREV:"#9b9b9b",K_RISE:"#f11200",K_FALL:"#00a800",K_N:"#000000",K_CL:"#007cc8",K_MS_RISE:"#f11200",K_MS_FALL:"#00a800",K_MS_N:"#000000",T_RISE:"#f11200",T_FALL:"#00a800",T_N:"#000000",F_RISE:"#f11200",F_FALL:"#00a800",F_N:"#000000",F_BG:"rgba(255,255,255,.9)",F_BR:"#000",F_T:"#000",K_EXT:"#080208",T_T:"#777",K_P:"#555",V_SD:"#dddddd",M_ARR:["#fff","#BCD4F9"],M_ARR_A:[.5,0],TIME_S:"#000000",TIME_L:"#eeeeee",GRID:"#eee",IVH_LINE:"#494949",P_TC:"#fff",P_BG:"#494949",T_TC:"#fff",T_BG:"#494949",REMARK_T:"#fff",REMARK_BG:"#494949",K_PCT:"#ccc",BTN_ARR:["#2b9dfc","#fff"],TIP_ARR:["#000","#fff",null,!1,null],LOGO:"#ccc"},this.datas={s:"sh000001",mode:"",tDataLen:241,t:"",isT:!1,scaleType:"price",candle:"solid"}}var e={URLHASH:{TS:1,T1:1,T5:5,FAKE_T5:2,NTS:"ts",NT5:"t5",KD:24,KW:168,KM:720,KCL:365,KDF:23,KDB:25,KWF:167,KWB:169,KMF:719,KMB:721,KCLF:364,KCLB:366,NKD:"kd",NKW:"kw",NKM:"km",NKCL:"kcl",NKDF:"kdf",NKDB:"kdb",NKWF:"kwf",NKWB:"kwb",NKMF:"kmf",NKMB:"kmb",NKCLF:"kclf",NKCLB:"kclb",K1:1,K5:5,K15:15,K30:30,K60:60,K240:240,NK1:"k1",NK5:"k5",NK15:"k15",NK30:"k30",NK60:"k60",NK240:"k240",KMS:1e3,NKMS:"kms",KYTD:983,NYTD:"kytd",vn:function(t){for(var e in this)if(this.hasOwnProperty(e)&&"number"==typeof this[e]&&t==this[e])return this[e];return void 0},vi:function(t){switch(t){case this.NTS:return this.TS;case this.NT5:return this.FAKE_T5;default:return this[t.toUpperCase()]}},gt:function(t){var e;switch(t){case this.KMS:e={type:"msk"};break;case this.K1:case this.K5:case this.K15:case this.K30:case this.K60:case this.K240:e={type:"mink"};break;case this.KDF:case this.KWF:case this.KMF:case this.KCLF:e={type:"rek",dir:"q"};break;case this.KDB:case this.KWB:case this.KMB:case this.KCLB:e={type:"rek",dir:"h"};break;default:e={type:"k"}}switch(t){case this.KD:case this.KDF:case this.KDB:e.baseid=this.KD;break;case this.KW:case this.KWF:case this.KWB:e.baseid=this.KW;break;case this.KM:case this.KMF:case this.KMB:e.baseid=this.KM;break;case this.KCL:case this.KCLF:case this.KCLB:e.baseid=this.KCL;break;default:e.baseid=t}return e}},e:{K_DATA_LOADED:"kDataLoaded",T_DATA_LOADED:"tDataLoaded",I_EVT:"iEvent"},nohtml5info:"\u68c0\u6d4b\u5230\u60a8\u7684\u6d4f\u89c8\u5668\u8fc7\u65e7\u4e14\u4e0d\u652f\u6301HTML 5\uff0c\u5f53\u524d\u4ee5\u517c\u5bb9\u6a21\u5f0f\u8fd0\u884c\u3002<br/>\u4e3a\u83b7\u5f97\u66f4\u597d\u7684\u4f53\u9a8c\u53ca\u5b8c\u5584\u7684\u529f\u80fd\uff0c\u5efa\u8bae\u4f7f\u7528<a style='color:#fff;text-decoration:underline;' href='http://down.tech.sina.com.cn/content/40975.html' target='_blank'>\u8c37\u6b4cChrome</a>\u6d4f\u89c8\u5668\uff0c\u6216\u5347\u7ea7\u5230\u60a8\u6d4f\u89c8\u5668\u7684<a style='color:#fff;text-decoration:underline;' href='http://down.tech.sina.com.cn/content/58979.html' target='_blank'>\u6700\u65b0\u7248\u672c</a>\u3002",historyt08:"\u5f53\u524d\u63d0\u4f9bA\u80a12008\u5e74\u4ee5\u6765\u7684\u5386\u53f2\u5206\u65f6\u8d70\u52bf\u67e5\u8be2",nohistoryt:"\u65e0\u6b64\u8bc1\u5238\u6b64\u65f6\u6bb5\u5386\u53f2\u5206\u65f6\u6570\u636e",norecord:"\u8bc1\u5238\u4ee3\u7801\u65e0\u8bb0\u5f55",notlisted:"\u672a\u4e0a\u5e02",delisted:"\u9000\u5e02",nodata:"\u672a\u52a0\u8f7d\u5230\u6709\u6548\u6570\u636e",noredata:"\u90e8\u5206\u8bc1\u5238\u65e0\u590d\u6743\u6570\u636e"};return new function(){this.VER="2.0.29";var i=[];this.getSetting=function(e){for(var s,n=i.length;n--;)if(s=i[n],e==s.uid)return s;return s=new t(e),i.push(s),s},this.globalCfg=e}});;
xh5_define("datas.hq",["utils.util"],function(t){"use strict";var e=t.load,i=t.fBind,a=t.market,r=t.cookieUtil,n=t.dateUtil,s=t.tUtil,o=0==location.protocol.indexOf("https:"),l=t.HQ_DOMAIN,u=new function(){var t,i="sinaH5EtagStatus",a={domain:"",path:"/",expires:3600},n="n",s="y",u=0,h=(o?"https":"http")+"://"+l+".sinajs.cn/list=sys_hqEtagMode",c=function(){e(h,function(){var e=window.hq_str_sys_hqEtagMode;0==u?u=e:(u==e?(t=!1,r.set(i,n,a)):(t=!0,r.set(i,s,a)),u=0)})},d=function(){var e=r.get(i);switch(e){case n:t=!1;break;case s:t=!0;break;default:t=!1,c()}};d(),setInterval(d,2e3),this.isETag=function(){return t}},h=function(){function r(e,i,a){var r={},n=b[e];n||(n={symbol:e},b[e]=n);var s=w.trHandler(a,n);s&&(n.trstr=a),r[e]=n;var o={msg:"",dataObj:r};return t.isFunc(i)&&i(o),o}function h(t){return/^nf_(IF|IC|IH|TF)\w+$/.test(t)?"CFF":/^nf_T(\d{4}|0)$/.test(t)?"CFF":"NF"}function c(e,i,r,n){if(n&&--n.count>0)return null;for(var s,o,l,u,c,d,m=e.split(","),f=[],p={},b=0,_=m.length;_>b;b++){if(s=m[b],l=g[s],l||(l={symbol:s},g[s]=l),o=a(s),r)u=r;else{switch(u=window["hq_str_"+s],o){case"HK":c=window["hq_str_"+s.replace("rt_","")+"_i"];break;default:c=window["hq_str_"+s+"_i"]}if("US"==o)var N=window.hq_str_gb_$ixic||window.hq_str_gb_ixic||window.hq_str_gb_$dji||window.hq_str_gb_dji}d=u&&u.length>0?u.split(","):void 0;var v;switch(o){case"CN":v=w;break;case"CNI":v=w;break;case"US":v=k;break;case"HK":v=P;break;case"OTC":v=I;break;case"HF":v=M;break;case"NF":v="CFF"==h(s)?y:O;break;case"global_index":v=x;break;case"fund":v=D;break;case"op_m":case"option_cn":v=C;break;case"forex":case"forex_yt":v=T;break;case"CFF":v=y;break;case"BTC":v=S;break;default:v=void 0}var E=!0;v&&(E=v.update(d,l,c,N)),E&&(l.hqstr=u),f.push(l),p[s]=l}var R={msg:"",data:f,dataObj:p};return t.isFunc(i)&&i(R),R}function d(e){var i=40,a=e.split(","),r=[];for(a=t.uae(a);a.length>i;)r.push(a.splice(0,i));return r.push(a.splice(0,a.length)),r}this.VER="2.6.17";var m,f={"00":"","01":"\u505c\u724c\u4e00\u5c0f\u65f6","02":"\u505c\u724c\u4e00\u5929","03":"\u8fde\u7eed\u505c\u724c","04":"\u76d8\u4e2d\u505c\u724c","05":"\u505c\u724c\u534a\u5929","06":"\u505c\u724c\u534a\u5c0f\u65f6","07":"\u6682\u505c","08":"\u53ef\u6062\u590d\u4ea4\u6613\u7194\u65ad","09":"\u4e0d\u53ef\u6062\u590d\u4ea4\u6613\u7194\u65ad"},p=(new Date).getTime(),g={},b={},_=new function(){var t=l+".sinajs.cn",i="://"+t+"/?_=$rn&list=$symbol",a="://"+t+"/etag.php?_="+p+"&list=$symbol",r=function(t){var e,r=o?"https":t.ssl?"https":"http";return e=t.cancelEtag?r+i.replace("$rn",String(Math.random())):r+(u.isETag()?a:i.replace("$rn",String(Math.random())))};return function(t,i,a){a=a||{},e(r(a).replace("$symbol",t),i)}},N=function(t){var e=t.timeStr||"",i=t.dateStr||"",a=t.tArr||void 0,r=t.hqObj||{},o=t.dateDiv||"-",l=e.split(":"),u=Number(l[0])||0,h=Number(l[1])||0,c=Number(l[2])||0,d=[s.s0(u),s.s0(h)].join(":"),m=0/0;if(a)if(a.indexOf)m=a.indexOf(d);else for(var f=a.length;f--;)if(a[f]==d){m=f;break}var p={time:d,isUpdateTime:isNaN(m)?!0:Boolean(m>=0),index:m},g=i.split(o),b=~~Number(g[0]),_=~~(Number(g[1])-1),N=~~Number(g[2]),v={isErrData:!1,isDateChange:!1,date:r.date,today:[b,_+1,N].join("-")};if(r.date){var S=new Date(b,_,N,u,h,c),T=n.stbd(r.date,S);T?S>=r.date?v.date.setHours(u,h,c):v.isErrData=!0:(v.isDateChange=Boolean(S>r.date),v.isDateChange?v.date=S:v.isErrData=!0)}else i?v.date=new Date(b,_,N,u,h,c):v.isErrData=!0;return{datePart:v,timePart:p}},v={swap:function(t){var e,i=t.split(","),a="";i[8]="TP"==i[8]?"03":"00",e=[0,4,3,7,5,6,26,46,10,11,36,26,37,27,38,28,39,29,40,30,56,46,57,47,58,48,59,49,60,50,2,1,8];for(var r=0;r<e.length;r++)a+=i[e[r]]+",";return a=a.slice(0,a.length-1)},kak:function(t,e){var i;switch(e){case"CN_2":i=this.swap(t);break;default:i=t}return i}},S=new function(){var t;this.update=function(e,i){if(!e)return!1;t||(t=s.gtr([["0:00","23:59"]]));var a=t,r="00:00",n=e[11],o=e[0],l=N({dateStr:n,timeStr:o,hqObj:i,tArr:a,start:r});if(l.datePart.isErrData)return!1;i.date=l.datePart.date,i.today=l.datePart.today,i.time=l.timePart.time,i.index=l.timePart.index,i.isUpdateTime=l.timePart.isUpdateTime,i.name=String(e[9]);var u=Number(e[3])||0;return i.prevclose=u,i.open=Number(e[5])||u,i.high=Number(e[6])||u,i.low=Number(e[7])||u,i.price=Number(e[8])||u,i.totalVolume=0,!0}},T=new function(){var t,e;this.update=function(i,a){if(!i)return!1;t||(t=s.gtr([["6:00","23:59"],["0:00","5:59"]]));var r=t,n="06:00",o=17,l=a.symbol;0!==l.indexOf("fx_")&&(o=10,"DINIW"==l&&(e||(e=s.gtr([["6:00","23:59"],["0:00","5:59"]])),r=e,n="06:00"));var u=i[o],h=i[0],c=N({dateStr:u,timeStr:h,hqObj:a,tArr:r,start:n});if(c.datePart.isErrData)return!1;a.date=c.datePart.date,a.today=c.datePart.today,a.time=c.timePart.time,a.index=c.timePart.index,a.isUpdateTime=c.timePart.isUpdateTime,a.name=String(i[9]);var d=Number(i[3])||0;return a.prevclose=d,a.open=Number(i[5])||d,a.high=Number(i[6])||d,a.low=Number(i[7])||d,a.price=Number(i[8])||d,a.totalVolume=0,!0}},w=new function(){var e,i,a=function(i,a){if(!i)return!1;e||(e=s.gta());var r=100;/[gz]/.test(a.type)?r=10:t.isRepos(a.symbol)?r=10:/^(sh000|sh580)\d+/.test(a.symbol)&&(r=1);var n=i[30],o=i[31],l=N({dateStr:n,timeStr:o,hqObj:a,tArr:e,start:"09:30"});if(l.datePart.isErrData)return!1;if(a.date=l.datePart.date,a.isDateChange=l.datePart.isDateChange,a.today=l.datePart.today,a.time=l.timePart.time,a.index=l.timePart.index,a.isUpdateTime=l.timePart.isUpdateTime,!l.timePart.isUpdateTime){var u=a.time.split(":"),h=Number(u[0]),c=Number(u[1]);switch(h){case 11:36>c&&(a.isUpdateTime=!0,a.index=119);break;case 15:10>c&&(a.isUpdateTime=!0,a.index=240)}}a.name=String(i[0]),a.isNewListed=Boolean(0==a.name.indexOf("N"));var d=Number(i[2])||0;a.prevclose=d,a.preopen=Number(i[1])||Number(i[6])||Number(i[7])||d,a.open=Number(i[1])||d,a.price=Number(i[3])||d,a.high=Number(i[4])||d,a.low=Number(i[5])||d,a.buy=Number(i[6]),a.sell=Number(i[7]);var m=Number(i[8])||0;m/=r,a.totalVolume=m,a.totalAmount=Number(i[9])||0;var p=i[32];return a.state=p,a.isStopDay="02"==p||"03"==p,a.statusStr=f[p]||"",!0},r=function(t,e){var i=t.split(",");!i||i.length<16||(e.type=String(i[0]).toLowerCase(),e.lastfive=Number(i[6]),e.fc=Number(i[8]),e.issueprice=Number(i[14]),e.status=Number(i[15]))},o=function(e,a){i||(i=s.gtr([["9:15","11:30"],["13:00","15:01"]]));var r=g[a.symbol]||{},o=r.date;t.isDate(o)||(o=new Date);var l=e.split("|"),u=n.ds(o),h=l[1],c=N({dateStr:u,timeStr:h,hqObj:a,tArr:i,start:"09:15"});return c.datePart.isErrData?!1:c.datePart.date.getHours()-o.getHours()>2?!1:(a.date=c.datePart.date,a.isDateChange=c.datePart.isDateChange,a.today=c.datePart.today,a.time=c.timePart.time,a.index=c.timePart.index,a.isUpdateTime=c.timePart.isUpdateTime,a.name=r.name||"",a.isNewListed=Boolean(0==a.name.indexOf("N")),a.price=Number(l[2]),a.trvolume=.01*(Number(l[3])||0),a.tramount=Number(l[4])||0,a.trbs=Number(l[7])||0,!0)};this.trHandler=function(t,e){return o(t,e)},this.update=function(t,e,i){var n=!0;return i&&r(i,e),t&&(n=a(t,e)),n}},y=new function(){var t;this.update=function(e,i){if(!e)return!1;t||(t=s.gata(a(i.symbol),window["kke_future_"+i.symbol]&&window["kke_future_"+i.symbol].time||[["09:30","11:29"],["13:00","02:59"]]));var r=e[36],n=e[37],o=N({dateStr:r,timeStr:n,hqObj:i,tArr:t,start:t[0]});if(o.datePart.isErrData)return!1;i.name=e[49]||i.symbol.replace("CFF_RE_",""),i.date=o.datePart.date,i.isDateChange=o.datePart.isDateChange,i.today=o.datePart.today,i.time=o.timePart.time,i.index=o.timePart.index,i.isUpdateTime=o.timePart.isUpdateTime;var l=Number(e[14])||Number(e[13])||0;return i.settlement=i.prevclose=l,i.open=Number(e[0])||l,i.price=Number(e[3])||l,i.high=Number(e[1])||l,i.low=Number(e[2])||l,i.preopen=i.open,i.totalVolume=Number(e[4])||0,i.totalAmount=Number(e[5])||0,i.holdingAmount=Number(e[6])||0,i.preHoldingAmount=Number(e[15])||0,i.iscff=1,i.withNight=!1,!0}},k=new function(){var e,i=function(e){if(!e||e.length<9)return null;for(var i,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e.split(" "),n=new Date,s=n.getFullYear(),o=0,l=a.length;l>o;o++)if(String(r[0]).toUpperCase()==String(a[o]).toUpperCase()){i=o;break}var u=parseInt(Number(r[1])),h=String(r[2]),c=h.toUpperCase().indexOf("PM")>0,d=h.split(":"),m=parseInt(Number(d[0]));c&&12!=m&&(m+=12);var f=d[1],p=f.slice(0,-2),g=[t.strUtil.zp(m),t.strUtil.zp(p),"00"].join(":"),b=new Date(s,i,u);if(+b>+n){if(!(0==n.getMonth()&&n.getDate()<7))return null;s--,b=new Date(s,i,u)}var _=[b.getFullYear(),t.strUtil.zp(b.getMonth()+1),t.strUtil.zp(b.getDate())].join("-");return[g,_]},a=function(t,e){if(t&&e){var i=t.split(",");!i||i.length<3||(e.exchange=i[0],e.industry=i[1],e.issueprice=i[2])}},r=function(t,a,r){function o(t){return 0===parseInt(t[2])&&0===parseInt(t[4])&&0===parseInt(t[5])&&0===parseInt(t[6])&&0===parseInt(t[7])&&0===parseInt(t[10])}if(!t||t.length<28)return!1;e||(e=s.gtus());var l,u=!1;r?(l=r.split(","),u=o(l)):u=o(t);var h;if(a.prevclose=Number(t[26])||0,u){a.high=a.prevclose,a.open=a.prevclose,a.low=a.prevclose;var c=new Date((window.hq_str_sys_time?new Date(1e3*window.hq_str_sys_time):new Date)-432e5);h=["09:10",c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()]}else a.open=Number(t[5])||a.prevclose,a.high=Number(t[6])||a.prevclose,a.low=Number(t[7])||a.prevclose,h=i(String(l?l[25]:t[25]));if(a.name=t[0],a.price=Number(t[1])||a.open,a.preopen=a.open,a.totalVolume=Number(t[10])||0,a.prevclose<=0&&(a.prevclose=a.price),a.isUnlisted=0==a.price&&0==Number(t[8])&&0==Number(t[9]),h){var d=N({dateStr:h[1],timeStr:h[0],hqObj:a,tArr:e});a.date=d.datePart.date,a.isDateChange=d.datePart.isDateChange,a.today=d.datePart.today,a.time=d.timePart.time,a.index=d.timePart.index,a.isUpdateTime=d.timePart.isUpdateTime,n=!0}return!0},n=!1;this.update=function(t,e,i,n){var s;return i&&a(i,e),t&&(s=r(t,e,n)),s}},D=new function(){var t;this.update=function(e,i){if(!e)return!1;t||(t=s.gthk());var a=e[7],r=e[1],n=N({dateStr:a,dateDiv:"-",timeStr:r,hqObj:i,tArr:t,start:"09:30"});return i.date=n.datePart.date,i.isDateChange=n.datePart.isDateChange,i.today=n.datePart.today,i.time=n.timePart.time,i.index=n.timePart.index,i.isUpdateTime=n.timePart.isUpdateTime,i.name=String(e[0]),i.volume=0,i.price=Number(e[2]),i.prevprice=i.prevclose=Number(e[3]),!0}},O=new function(){this.update=function(t,e){if(!t)return!1;var i=window["kke_future_"+e.symbol]&&window["kke_future_"+e.symbol].time||[["09:30","11:29"],["13:00","02:59"]],r=s.gata(a(e.symbol),i),n=t[1],o=t[17],l=n.slice(0,2)+":"+n.slice(2,4),u=N({dateStr:o,dateDiv:"-",timeStr:l,hqObj:e,tArr:r,start:r[0]});e.date=u.datePart.date,e.isDateChange=u.datePart.isDateChange,e.today=u.datePart.today,e.time=u.timePart.time,e.index=u.timePart.index,e.isUpdateTime=u.timePart.isUpdateTime,r[0]>"15:00"&&("00:00"==i[1][0]?l>i[1][1]&&"09:00">l&&(e.index=r.indexOf(i[1][1])):l>i[0][1]&&"09:00">l&&(e.index=r.indexOf(i[0][1]))),e.name=String(t[0]);var h=Number(t[10])||0;return e.prevclose=h,e.open=Number(t[2])||h,e.preopen=e.open||e.price,e.high=Number(t[3])||h,e.low=Number(t[4])||h,e.close=Number(t[5])||h,e.buy=Number(t[6]),e.sell=Number(t[7]),e.price=Number(t[8])||h,e.activeprevclose=Number(t[9]),e.buyAmount=Number(t[11]),e.sellAmount=Number(t[12]),e.holdingAmount=Number(t[13]),e.totalVolume=Number(t[14])||0,e.exchange=t[15],e.futuresType=t[16],e.isHot=Number(t[18]),e.day5Highest=Number(t[19]),e.day5Lowest=Number(t[20]),e.day10Highest=Number(t[21]),e.day10Lowest=Number(t[22]),e.day20Highest=Number(t[23]),e.day20Lowest=Number(t[24]),e.day55Highest=Number(t[25]),e.day55Lowest=Number(t[26]),e.weighted=Number(t[27]),e.withNight=r[0]>"15:00",!0}},P=new function(){var t,e=function(e,i){if(!e)return!1;t||(t=s.gthk());var a=e[17],r=e[18],n=e[24],o=N({dateStr:a,dateDiv:"/",timeStr:r,hqObj:i,tArr:t,start:"09:30"});i.date=o.datePart.date||new Date,i.isDateChange=o.datePart.isDateChange,i.today=o.datePart.today;var l=!1;(!i.time||o.timePart.time>"09:29"&&i.time<o.timePart.time)&&(l=!0),i.time=o.timePart.time,i.index=o.timePart.index,i.isUpdateTime=o.timePart.isUpdateTime,l&&(i.isUpdateTime=!0),i.name=String(e[1]);var u=Number(e[3])||0;return i.prevclose=u,i.open="Y"==n?Number(e[2])||u:u,i.preopen=Number(e[2])||Number(e[9])||Number(e[10])||u,i.price=Number(e[6])||u,i.high=Number(e[4])||u,i.low=Number(e[5])||u,i.totalVolume=Number(e[12])||1e3*Number(e[11])||0,i.totalAmount=Number(e[11])||0,!0},i=function(t,e){var i=t.split(",");!i||i.length<15||(e.type=String(i[0]).toLowerCase(),e.lastfive=0,e.status=Number(i[14]),e.issueprice=Number(i[16]))};this.update=function(t,a,r){var n=!0;return r&&i(r,a),t&&(n=e(t,a)),n}},x=new function(){this.update=function(t,e){if(!t)return!1;var i=s.gata(a(e.symbol),window["kke_global_index_"+e.symbol]&&window["kke_global_index_"+e.symbol].time||[["06:00","23:59"],["00:00","05:00"]]),r=i,n=i[0],o=6,l=t[o],u=t[7],h=N({dateStr:l,timeStr:u,tArr:r,start:n,hqObj:e});if(h.datePart.isErrData)return!1;e.date=h.datePart.date,e.today=h.datePart.today,e.time=h.timePart.time,e.index=h.timePart.index,e.isUpdateTime=h.timePart.isUpdateTime,e.name=String(t[0]);var c=Number(t[9])||0;return e.prevclose=c,e.open=Number(t[8])||c,e.price=Number(t[1])||c,e.high=Number(t[10])||c,e.low=Number(t[11])||c,e.buy=Number(t[9]),e.sell=Number(t[9]),e.totalVolume=Number(t[12])||0,e.holdingAmount=0,!0}},M=new function(){this.update=function(t,e){if(!t)return!1;var i=s.gata(a(e.symbol),window["kke_future_"+e.symbol]&&window["kke_future_"+e.symbol].time||[["06:00","23:59"],["00:00","05:00"]]),r=i,n=i[0],o=12,l=t[o],u=t[6],h=N({dateStr:l,timeStr:u,tArr:r,start:n,hqObj:e});if(h.datePart.isErrData)return!1;e.date=h.datePart.date,e.today=h.datePart.today,e.time=h.timePart.time,e.index=h.timePart.index,e.isUpdateTime=h.timePart.isUpdateTime,e.name=String(t[13]);var c=Number(t[7])||0;return e.prevclose=c,e.open=Number(t[8])||c,e.price=Number(t[0])||c,e.high=Number(t[4])||c,e.low=Number(t[5])||c,e.buy=Number(t[2]),e.sell=Number(t[3]),e.buyAmount=Number(t[10]),e.sellAmount=Number(t[11]),e.holdingAmount=Number(t[9]),!0}},C=new function(){var t;this.update=function(e,i){if(!e)return!1;t||(t=s.gta());var a=e[32],r=a.split(" "),n=r[0],o=r[1],l=N({dateStr:n,timeStr:o,hqObj:i,tArr:t,start:"09:30"});if(l.datePart.isErrData)return!1;i.date=l.datePart.date,i.isDateChange=l.datePart.isDateChange,i.today=l.datePart.today,i.time=l.timePart.time,i.index=l.timePart.index,i.isUpdateTime=l.timePart.isUpdateTime,i.name=String(e[37]),i.isNewListed=Boolean(0==i.name.indexOf("N"));var u=Number(e[8])||0;return i.prevclose=u,i.preopen=Number(e[9])||u,i.open=Number(e[9])||u,i.price=Number(e[2])||u,i.high=Number(e[39])||u,i.low=Number(e[40])||u,i.position=Number(e[5])||0,i.totalVolume=Number(e[41])||0,i.totalAmount=Number(e[42])||0,!0}},I=new function(){var t;this.update=function(e,i){if(!e)return!1;t||(t=s.gta());var a=e[30],r=e[31],n=N({dateStr:a,timeStr:r,hqObj:i,tArr:t,start:"09:30"});if(n.datePart.isErrData)return!1;if(i.date=n.datePart.date,i.isDateChange=n.datePart.isDateChange,i.today=n.datePart.today,i.time=n.timePart.time,i.index=n.timePart.index,i.isUpdateTime=n.timePart.isUpdateTime,!n.timePart.isUpdateTime){var o=i.time.split(":"),l=Number(o[0]),u=Number(o[1]);switch(l){case 11:59>u&&(i.isUpdateTime=!0);break;case 15:31>u&&(i.isUpdateTime=!0)}}i.name=String(e[0]),i.isNewListed=Boolean(0==i.name.indexOf("N"));var h=Number(e[2])||0;i.prevclose=h,i.preopen=Number(e[1])||Number(e[6])||Number(e[7])||h,i.open=Number(e[1])||h,i.price=Number(e[3])||h,i.high=Number(e[4])||h,i.low=Number(e[5])||h,i.buy=Number(e[6]),i.sell=Number(e[7]),i.totalVolume=Number(e[8])/1e3||0,i.totalAmount=Number(e[9])||0;var c=e[32];return i.state=c,i.isStopDay="02"==c||"03"==c,i.statusStr=f[c]||"",!0}},E=[],R="",K="",L=function(t){for(var e=E.length;e--;)E[e](t),E[e]=null,E.length--};this.get=function(t,e){var r,n=t.symbol,s=t.withI,o=n,l=0;if(s)for(var u,h=n.split(","),f=h.length;f>l;l++){u=h[l];var p;p="HK"==a(u)?u.replace("rt_","")+"_i":u+"_i",o+=","+p}var g,b;if(t.delay)R+=n+",",K+=o+",",E.push(e),clearTimeout(m),m=setTimeout(function(){for(K=K.substring(0,K.length-1),R=R.substring(0,R.length-1),r=d(K),b=r.length,g={count:b},l=0;b>l;l++)_(r[l].join(","),i(c,null,R,L,null,g),t);R="",K=""},100);else for(r=d(o),b=r.length,g={count:b},l=0;b>l;l++)_(r[l].join(","),i(c,null,n,e,null,g),t)},this.parse=function(e,i){var a,n=e.symbol;switch(e.market){case"CN_TR":a=r(n,null,e.hqStr);break;default:var s=v.kak(e.hqStr,e.market);a=c(n,null,s,null)}t.isFunc(i)&&i(a)}};return h});;
xh5_define("utils.painter",["utils.util","cfgs.settinger"],function(t,e){"use strict";function i(){function e(t){function e(t){o=t.hd||o;var e=t.width||i.width||0,n=t.height||i.height||0,l=o;switch(i.style.width=e+"px",i.style.height=n+"px",l){case 0:break;case 1:l=s.hdpr,e*=l,n*=l;break;default:e*=l,n*=l}i.height=i.width=0,i.height=n,i.width=e,l&&1!=l&&a.scale(l,l)}this.VER="2.0.1";var i=n("canvas");"undefined"!=typeof FlashCanvas&&FlashCanvas.initElement(i);var a=i.getContext("2d"),o=1;t&&e(t),this.canvas=i,this.g=a,this.resize=e}function i(i){var n,s,o,l,r,c,f,d,m,g=i.parentObj,v=i.ctn,p=g.sd,S=g.setting,N=0,_=S.DIMENSION.H_TIME_PART,O=g.nu,y=g.fixScale,M=99999,T=function(){n=new e,s=n.canvas,o=n.g,s.style.position="absolute",s.style.zIndex=0,a.addHandler(s,"touchstart",function(t){S.custom.touch_prevent&&a.preventDefault(t)}),v.appendChild(s)},b=function(t){t=t||{},l=S.DIMENSION.getStageW(),N=isNaN(t.mh)?N:t.mh,r=S.DIMENSION.posX,c=S.DIMENSION.RIGHT_W,f=S.DIMENSION.K_RIGHT_W,d=isNaN(t.h)?d:t.h,_=isNaN(t.eh)?_:t.eh,n.resize({width:l,height:d+_+N,hd:S.PARAM.getHd()}),o.font=S.STYLE.FONT_SIZE+"px "+S.STYLE.FONT_FAMILY},x=function(t,e,i,n){t=~~(t+.5),t-=.5,e=~~(e+.5),e-=.5,i=~~(i+.5),i-=.5,o.beginPath(),n?(o.moveTo(t,i),o.lineTo(e,i)):(o.moveTo(i,t),o.lineTo(i,e)),o.stroke()},I=function(t,e){var i;return y?i=isNaN(e)?0>t?Math.floor(t):Math.ceil(t):t.toFixed(e):(t=(1e4*t).toFixed(0),i=t/1e4,i>M&&(i=Math.floor(i))),i},w=new function(){var e,i,n,s,a,u=4,f=p.futureTime||window["kke_future_"+p.symbol],m=function(){if(!(p.business||!isNaN(S.custom.mini_threshold.height)&&d<S.custom.mini_threshold.height)){var e=S.DIMENSION.extend_draw,i=r;e?(o.textAlign="left",o.textBaseline="top"):o.textAlign="right",o.fillStyle=S.COLOR.T_N,o.strokeStyle=S.COLOR.GRID,S.DIMENSION.getStageH()<0&&"TFLOW"==p.name&&(p.labelPriceCount=4),!p.isSC&&S.DIMENSION.h_t<150&&(p.labelPriceCount=2);for(var n,s,a,h,u,f=p.labelMaxP,m=O?t.strUtil.nu(f):null,g=p.labelMinP,v=p.labelPriceCount,_=S.DIMENSION.posX,y=f-g,T=d/v,b=0;v>=b;b++){u=b*T+N,o.fillStyle=S.COLOR.T_N,a=f-b*y/v,a>0?o.fillStyle=S.COLOR.T_RISE:0>a&&(o.fillStyle=S.COLOR.T_FALL),e?b==v&&(o.textBaseline="bottom"):o.textBaseline=0==b?"top":b==v?"bottom":"middle";var w;if(p.isCompare){if(p.dAdd<=1)a*=100,h=a.toFixed(2),h+="%",o.fillText(h,_,u),o.fillText(h,_+S.DIMENSION.w_t+o.measureText(h).width,u);else{w=p.datas[0][0].prevclose;var R,D=a;D*=100,R=D.toFixed(2),R+="%",e?o.fillText(R,S.DIMENSION.w_t-o.measureText(R).width,u):o.fillText(R,_+S.DIMENSION.w_t+o.measureText(R).width,u),a=a*w+w,h=a.toFixed(2),o.fillText(h,_,u)}x(i,l-c,u,!0)}else{if(p.isSC)if(o.fillStyle=S.COLOR.K_P,O){var k=p.name&&"TFLOW"==p.name?2:0;a/=m[0],0==b||b==v?(h=b>=v?m[1]:I(a,k),("NaN"==h||""==h)&&(h=0)):h=""}else h=0==b||b==v?a.toFixed(1>g?4:2):0,0==h&&0!=b&&b!=v&&(h="");else{if(S.DIMENSION.h_t<0)return;w=p.datas[0][0].prevclose;var C="HK"==p.market?3:4,E=1>g?C:p.nfloat||2;"HF"==t.market(p.symbol)&&(3>g?E=4:99>g&&(E=3)),h=Math.abs(a)>M?Math.floor(a):a.toFixed(E),n=100*(a-w)/w,o.fillStyle=n>0?S.COLOR.T_RISE:0>n?S.COLOR.T_FALL:S.COLOR.T_N,s=isNaN(n)?"--%":n.toFixed(2)+"%",e?o.fillText(s,_+S.DIMENSION.w_t-o.measureText(s).width,u):o.fillText(s,_+S.DIMENSION.w_t+o.measureText(s).width,u)}o.fillText(h,_,u),x(i,l-c,u,!0)}}}},v=function(e,i){var n=p&&t.market(p.symbol),s=S.DIMENSION.w_t;"HK"==n&&415>s&&!i||x(N,d+N,e,!1)},_=function(t,i,n,s,a){if(e=t,g.dt){var l=o.measureText(i).width,r=0;if(r=0==n?0:n==s-1?-l:-l/2,0==s&&(r=a/2-l/2),p.business){o.font="14px "+S.STYLE.FONT_FAMILY;var h=10;(0==n||n==s-1)&&o.fillText(i,t+r,N+d+S.STYLE.FONT_SIZE+2+h)}else o.fillText(i,t+r,N+d+S.STYLE.FONT_SIZE+2)}},y=function(t){var e=t.replace("nf_","").replace(/[\d]+$/,"");return"TF"==e||"T"==e?"CFF":"NF"},T=30,w="ignore",R="ignoreT",D=function(){var e,o=p&&t.market(p.symbol);switch(o){case"US":u=7;break;case"HK":u=5;break;case"NF":case"HF":u=0;break;default:u=4}if(!i){switch(o){case"HF":i=t.tUtil.gata(o,f&&f.time||[["06:00","23:59"],["00:00","05:00"]]);break;case"NF":i=t.tUtil.gata(o,f&&f.time||[["09:00","23:29"],["13:00","02:59"]]);break;case"global_index":i=t.tUtil.gata(o,f&&f.time||[["06:00","23:59"],["00:00","05:00"]]);break;default:i=t.tUtil.gata(o)}for("CFF"==y(p.symbol)&&(T=15),n=[],e=0;e<i.length;e+=T)n.push(i[e]);var l=i[i.length-1].split(":")[1];"00"!=l&&"30"!=l&&n.push(i[i.length-1])}s=[],a=[];var r=S.DIMENSION.w_t,h=370,c=70,d=35,m=r/n.length,v=0,N=0;if(g.dt&&"HK"==o){var _=p.hq.time;g.dt&&_>"15:59"&&(_>"16:09"&&(_="16:09"),n[n.length-1]=_),h=415}for(e=0;e<n.length;e++)0==e||e==n.length-1?(s.push(n[e]),a.push(R)):e==u?(s.push(n[e]),a.push(n[e])):h>r?s.push(w):e>0&&u>e?m*(e-v)>c&&m*(u-e)>c?(s.push(n[e]),v=e):s.push(w):(u>v&&(v=u),m*(e-v)>c&&m*(n.length-1-e)>c?(s.push(n[e]),v=e):s.push(w)),0!=e&&e!=u&&e!=n.length-1&&(e>0&&u>e?m*(e-N)>d&&m*(u-e)>d?(a.push(n[e]),N=e):a.push(R):(u>N&&(N=u),m*(e-N)>d&&m*(n.length-1-e)>d?(a.push(n[e]),N=e):a.push(R)));switch(o){case"NF":f&&("21:00"!=f.time[0][0]?u=15==T?S.DIMENSION._w<=550?9:0:4:h>r&&(u=Math.floor(a.length/2))),s[s.length-1]=30==T?"15:00":"15:15";var O=n[u].split(":");59==O[1]&&(n[u]=Number(O[0])+1+":00"),s[u]=n[u];break;case"HF":h>r&&(u=Math.floor(a.length/2)),s[u]=n[u]}},k=function(){var i=S.DIMENSION.w_t;if(isNaN(S.custom.mini_threshold.width)||!(i<S.custom.mini_threshold.width)){o.textBaseline="bottom",o.textAlign="left",o.strokeStyle=S.COLOR.TIME_L,o.fillStyle=S.COLOR.TIME_S,e=r;var l=p.datas,c=l.length,f=p&&t.market(p.symbol),d=n.length,m=1;"NF"==f&&"CFF"==y(p.symbol)&&(m=1);var N=i/Math.max(d-m,5),O=r,M=550;if(S.DIMENSION.getStageH()<0&&(g.dt=!0),g.dt){var T;if(1==c||c>6)for(T=0;d>T;T++)s[T]!==w&&_(O,s[T],T,d),"HF"==f||"NF"==f?s[T]!==w&&a[T]!==R&&(T==u?v(O,u):v(O)):p.business||a[T]!==R&&(T==u?v(O,u):v(O)),O+=N;else if(6>c)for(N=i/c,T=0;c>T;T++)S.DIMENSION._w<M?_(O,h.ds(l[T][0].date,"/",!1,!0,!1,!1),T,0,N):_(O,h.ds(l[T][0].date,"/")+"/"+h.nw(l[T][0].date.getDay()),T,0,N),0!=T&&v(O),O+=N}}};this.drawFrames=function(){b(),D(),k(),m()}},R=new function(){this.iOffsetX=0;var e,i,n,s,a,h=this,c=0,v=22,_=99,y=function(t,e,i){if(isNaN(i)){if(c+_>=t||t>=l-_)return;x(N+1,d+N,t,!1)}if(c=t,g.dt){var n,s=d+N+S.STYLE.FONT_SIZE+3;switch(i){case 1:o.fillText(e,t,s);break;case 2:n=o.measureText(e).width,o.fillText(e,t-n,s);break;case 3:break;default:n=o.measureText(e).width,o.fillText(e,t-(n>>1),s)}}},M=function(){var e=S.DIMENSION.w_k;if(isNaN(S.custom.mini_threshold.width)||!(e<S.custom.mini_threshold.width)){o.textBaseline="bottom",o.textAlign="left",o.strokeStyle=S.COLOR.TIME_L,o.fillStyle=S.COLOR.TIME_S,c=r;var i,n=p.datas,s=n.length;switch(m){case u.URLHASH.KMS:i="sec";break;case u.URLHASH.K1:i="h";break;case u.URLHASH.K5:case u.URLHASH.K15:case u.URLHASH.K30:case u.URLHASH.K60:case u.URLHASH.K240:i=60/m*24>s?"h":"d";break;case u.URLHASH.KD:case u.URLHASH.KDF:case u.URLHASH.KDB:case u.URLHASH.KCL:case u.URLHASH.KCLF:case u.URLHASH.KCLB:i=s>300?"y":28>s?"w":"m";break;default:i=s>300?"y":"m"}for(var a,l,f,d,g,N,O=e/Math.max(s,S.PARAM.minCandleNum),M=h.iOffsetX+r+.6*O,T=e/_,b=e/(O*v),x=Math.ceil(b/T),I=0,w=0,R=-1,D=-1,k=-1,C=-1,E=-1,L=0;s>L;L++)if(N=n[L],g=N.date,l=g.getMonth(),a=g.getFullYear(),0!=L)if(L>=s-1)y(M+O/2,a+"/"+(l+1)+"/"+g.getDate(),s>=S.PARAM.minCandleNum?2:3);else{switch(i){case"sec":var P=g.getSeconds();P!=C&&(P=t.strUtil.zp(P),d=t.strUtil.zp(g.getMinutes()),f=t.strUtil.zp(g.getHours()),y(M,f+":"+d+":"+P)),C=Number(P);break;case"min":d=g.getMinutes(),d!=k&&(d=t.strUtil.zp(d),f=t.strUtil.zp(g.getHours()),y(M,f+":"+d)),k=Number(d);break;case"h":f=g.getHours(),f!=D&&(d=t.strUtil.zp(g.getMinutes()),y(M,f+":"+d)),D=f;break;case"d":var F=g.getDate();F!=I&&y(M,a+"/"+(l+1)+"/"+F),I=F;break;case"w":var H=g.getDay();E>H&&y(M,l+1+"/"+g.getDate()),E=H;break;default:case"m":l==R||l%x||y(M,a+"/"+(l+1)),R=l;break;case"y":a!=w&&y(M,a),w=a}M+=O}else y(r,a+"/"+(l+1)+"/"+g.getDate(),1)}},T=37,w=function(){o.fillStyle=S.COLOR.K_PCT,o.textBaseline="top",o.textAlign="right";for(var t,e,i=p.nfloat||2,n=p.prevclose,s=p.labelPriceCount,a=0,r=d/s,h=p.labelMaxP,c=p.labelMinP,g=h-c;s>=a;a++)if(!(T>r&&1&a)){e=a*r+N,0==a&&e++,t=h-a*g/s,a==s&&(o.textBaseline="bottom");var v;m===u.URLHASH.KMS||m===u.URLHASH.K1?(v=((t-n)/n*100).toFixed(i)+"%",o.fillStyle=t>n?S.COLOR.K_MS_RISE:n>t?S.COLOR.K_MS_FALL:S.COLOR.K_MS_N):v=Math.round((t-n)/n*100)+"%",o.fillText(v,l-f,e)}},R=function(){var e;switch(S.custom.k_0pct){case"hq":e=p.hq.prevclose;break;case"range":e=p.prevclose;break;default:return}var i=t.xh5_PosUtil.pp(e,p.labelMinP,p.labelMaxP,d)+N;i=~~(i+.5),i-=.5;var n=r,s=5;for(o.beginPath();l-f>n;)o.moveTo(n,i),n+=s,o.lineTo(n,i),n+=s;o.strokeStyle=S.COLOR.T_PREV,o.stroke()},D=function(){if(isNaN(S.custom.mini_threshold.height)||!(d<S.custom.mini_threshold.height)){var e=S.DIMENSION.extend_draw;o.fillStyle=S.COLOR.K_P,o.strokeStyle=S.COLOR.GRID;var i=r;e?(o.textAlign="left",o.textBaseline="top"):o.textAlign="right";for(var n,s,a,h=p.labelPriceCount,c=0,g=S.DIMENSION.posX,v=d/h,_=p.labelMaxP,y=p.labelMinP,M=_-y,b=p.prevclose,D=O?t.strUtil.nu(_):null;h>=c;c++)T>v&&1&c||(s=c*v+N,0==c&&s++,n=_-c*M/h,p.isCompare&&(n*=100),O?(n/=D[0],a=c>=h?D[1]:I(n)):a=I(n),p.isCompare&&(a+="%"),e?c==h&&(o.textBaseline="bottom"):o.textBaseline=0==c?"top":c==h?"bottom":"middle",m===u.URLHASH.KMS&&b&&(o.fillStyle=n>b?S.COLOR.K_MS_RISE:b>n?S.COLOR.K_MS_FALL:S.COLOR.K_MS_N),o.fillText(a,g,s),x(i,l-f,s,!0));b&&(p.isCompare||(S.custom.show_k_rangepercent&&w(),"no"!=S.custom.k_0pct&&R()))}};this.drawFrames=function(t){(t||p.datas[0].date!=n||p.datas[p.datas.length-1].date!=s||p.labelMaxP!=e||p.labelMinP!=i||m!=a)&&(b(),D(),M()),a=p.viewState.viewId,n=p.datas[0].date,s=p.datas[p.datas.length-1].date,e=p.labelMaxP,i=p.labelMinP}};this.drawBg=function(t,e){p.datas&&(m=p.viewState.viewId,S.datas.isT?w.drawFrames(t):(isNaN(e)||(R.iOffsetX=e,t=!0),R.drawFrames(t)))},this.respos=function(t){b(t),s.style.left=0,s.style.top=S.DIMENSION.posY+"px",this.drawBg(!0)},this.gc=function(){t.domGc(s)},T()}function f(e){var i,s=e.parentObj,h=e.ctn,c=s.iMgr,u=r(s.iTo,null,h),f=s.iClk,d=c.globalDragHandler,m=c.zoomView,g=c.shortClickHandler,v=s.setting,p=v.PARAM.isFlash,S=!p,N=!1,_=300,O={isM:!1,isTch:!1,isP:!1,tCount:void 0,tXOff:-1,isPv:!1,lastIy:null,mDx:0/0,mDy:0/0,isClk:0,isTMin:!1,mvOx:0,vP:function(t){var e,i;if(t.changedTouches){a.preventDefault(t),a.stopPropagation(t);var n=a.getTarget(t),s=t.changedTouches[0],o=n.getBoundingClientRect(),l=o.left,r=o.top;e=s.clientX-l,i=s.clientY-r}else e=t.offsetX,isNaN(e)&&(e=t.layerX),i=t.offsetY,isNaN(i)&&(i=t.layerY);u(e,i,t)},vH:function(t){if(!(this.isClk>0)&&v.custom.allow_move){a.preventDefault(t),a.stopPropagation(t);var e=t.changedTouches?t.changedTouches[0].pageX:t.layerX;isNaN(e)&&(e=t.offsetX);var i=t.changedTouches?t.changedTouches[0].pageY:t.layerY;isNaN(i)&&(i=t.offsetY),d(this.mDx,e,this.mDy,i)}},mD:function(t){this.mDx=isNaN(t.layerX)?t.offsetX:t.layerX,this.mDy=isNaN(t.layerY)?t.offsetY:t.layerY,this.isM=this.isP=!0,this.isClk=2,T(!0)},mM:function(t){this.isTch||(N=!0,this.isClk--,this.isP?this.vH(t):this.vP(t))},mU:function(t){this.mDx=0/0,this.mDy=0/0,this.isM=this.isP=!1,d(0/0,0/0,0/0,0/0,t),this.isClk>0&&f&&(this.isClk=0,f()),T(!1)},mO:function(){this.isClk=0,this.isM=this.isP=N=!1,u(0/0,0/0),T(!1)},tR:function(){clearTimeout(this.tCount),this.isPv=this.isTMin=!1},gR:function(){this.tR(),this.tXOff=-1},tCheck:function(t){this.mvOx=t.touches[0].pageX;var e=this;e.isClk=2,this.tCount=setTimeout(function(){e.isPv=!0,e.vP(t),e.isClk=0},_)},tE:function(t){v.custom.touch_prevent&&a.preventDefault(t),this.isPv||g(),this.tR(),this.isTch=N=!1,this.mDx=0/0,this.mDy=0/0,u(0/0,0/0),d(0/0,0/0,0/0,0/0,t),this.isClk>0&&f&&(this.isClk=0,f())},tM:function(t){if(this.isClk--,1==t.touches.length){if(!this.isPv&&!this.isTMin&&Math.abs(this.mvOx-t.touches[0].pageX)<5)return;this.isTMin=!0,clearTimeout(this.tCount),this.isPv?this.vP(t):this.vH(t)}else if(2==t.touches.length){a.preventDefault(t);var e=t.touches[0],i=t.touches[1];if(this.tXOff>=0){var n=Math.abs(e.pageX-i.pageX);if(n!=this.tXOff){var s=a.getTarget(t),o=l.pageX(s),r=e.pageX-o,h=i.pageX-o;m(n<this.tXOff,[r,h])}}this.tXOff=Math.abs(e.pageX-i.pageX)}},tS:function(t){switch(this.tR(),v.custom.touch_prevent&&a.preventDefault(t),this.isTch=N=!0,this.lastIy=t.touches[0].pageY,this.mDx=t.changedTouches[0].pageX,this.mDy=t.changedTouches[0].pageY,t.touches.length){case 1:this.tCheck(t);break;case 2:this.gR()}},handleEvent:function(t){if(v.custom.mouse_and_touch)switch(t.type){case"mouseup":this.mU(t);break;case"mousedown":this.mD(t);break;case"mouseout":this.mO();break;case"mousemove":this.mM(t);break;case"touchend":this.tE(t);break;case"touchmove":this.tM(t);break;case"touchstart":this.tS(t)}}},y=new function(){this.onmouseup=function(t){v.custom.mouse_and_touch&&O.mU(t)},this.onmousedown=function(t){v.custom.mouse_and_touch&&O.mD(t)},this.onmouseout=function(){v.custom.mouse_and_touch&&O.mO()},this.onmousemove=function(t){v.custom.mouse_and_touch&&O.mM(t)}},M=function(){S?i=n("canvas"):(i=n("div"),i.style.backgroundColor="#eee",i.style.opacity=0,i.style.filter="alpha(opacity=0)"),i.style.position="absolute",i.style.zIndex=v.PARAM.I_Z_INDEX;var t;o.istd?t=["touchend","touchmove","touchstart"]:(t=["mousedown","mouseup","mousemove","mouseout"],o.allowt&&(t=t.concat(["touchend","touchmove","touchstart"])));for(var e=t.length;e--;)S?a.addHandler(i,t[e],O):a.addHandler(i,t[e],y["on"+t[e]]||function(){});h.appendChild(i)},T=function(t){t?(i.style.cursor="grabbing",i.style.cursor="-webkit-grabbing"):i.style.cursor="default"};this.respos=function(t){i.style.top=v.DIMENSION.posY+t.mh+"px",i.style.left=v.DIMENSION.posX+"px";var e;e=v.datas.isT?v.DIMENSION.w_t:v.DIMENSION.w_k,i.style.width=e+"px",i.style.height=t.h+"px"},this.gc=function(){t.domGc(i)},M()}function d(e){this.VER="2.2.8",e=c({setting:void 0,sd:void 0,ctn:void 0,reO:void 0,withHBg:!1,nu:!1,dt:!0,fixScale:!0,iTo:function(){},iMgr:void 0,iClk:void 0},e||{});var a,o,l,r,h,u=e.setting,d=function(){e.ctn?a=e.ctn:(a=n("div"),a.style.position="relative")},m=function(){o=n("canvas"),"undefined"!=typeof FlashCanvas&&FlashCanvas.initElement(o),o.style.position="absolute",o.style.zIndex=u.PARAM.G_Z_INDEX,l=o.getContext("2d"),a.appendChild(o)},g=function(){h=new f({parentObj:e,ctn:a})},v=function(){r=new i({parentObj:e,ctn:a})},p=function(t){t=t||{};var e,i,n=isNaN(t.mh)?u.DIMENSION.H_T_T:t.mh,l=isNaN(t.eh)?u.DIMENSION.H_TIME_PART:t.eh,c=u.PARAM.getHd();switch(e=u.datas.isT?u.DIMENSION.w_t:u.DIMENSION.w_k,i=isNaN(t.h)?u.DIMENSION.h_k:t.h,t.h=i,t.mh=n,t.eh=l,a.style.height=i+n+l+"px",o.style.top=u.DIMENSION.posY+n+"px",o.style.left=u.DIMENSION.posX+"px",o.style.width=e+"px",o.style.height=i+"px",c){case 0:break;case 1:c=s.hdpr,e*=c,i*=c;break;default:e*=c,i*=c}o.width=e,o.height=i,h&&h.respos(t),r&&r.respos(t)};this.resize=p,this.getCanvas=function(){return o},this.getG=function(){return l},this.getWrap=function(){return a};var S;this.scale=function(t){switch(t){case 0:return;case 1:t=s.hdpr}t&&l.scale(t,t)},this.newGStyle=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e])},this.newStyle=function(t,e,i){S=l.strokeStyle=t,e&&l.beginPath(),i&&(l.lineWidth=i)},this.newFillStyle=function(t,e){if(t&&!(t.length<1)){var i=t.length;if(1==i)l.fillStyle=t[0];else if(i>1){for(var n=l.createLinearGradient(0,0,0,e),s=0;i>s;s++)n.addColorStop(1/(i-1)*s,t[s]);l.fillStyle=n}}},this.newFillStyle_rgba=function(e,i,n){for(var s=t.isArr(n)?n:[n],a=l.createLinearGradient(0,0,0,i),o=0,r=e.length;r>o;o++)a.addColorStop(1/(r-1)*o,t.hex2dec(e[o],s[o]||0));l.fillStyle=a},this.clear=function(t,e){o.width=o.width,t&&(S&&l.strokeStyle!=S&&(l.strokeStyle=S),l.beginPath()),this.scale(e)},this.clearLimit=function(t,e){l.clearRect(t,0,e,o.height),l.beginPath()},this.beginPath=function(){l.beginPath()},this.closePath=function(){l.closePath()},this.fill=function(){l.fill()},this.stroke=function(){l.stroke()},this.save=function(){l.save()},this.translate=function(t,e){l.translate(t,e)},this.restore=function(){l.restore()},this.moveTo=function(t,e){l.moveTo(t,e)},this.lineTo=function(t,e){l.lineTo(t,e)},this.drawDot=function(t,e,i,n){n&&l.moveTo(t,e),l.arc(t,e,i,0,2*Math.PI)},this.arc=function(t,e,i,n,s,a){l.arc(t,e,i,n,s,a)},this.drawCandleRect=function(t,e,i,n,s,a){if(e!=i&&!(2>n)){var o=i-e;t+=.5*n,n=~~(n+.5),t=~~(t+.5),e=~~(e+.5),o=~~(o+.5),l.lineWidth=1,a?(t-=.5,e-=.5,l.strokeStyle=s,l.strokeRect(t,e,n,o)):(1>o&&(o=1),l.fillStyle=s,l.fillRect(t,e,n,o),t-=.5,e-=.5,l.strokeStyle=s,l.strokeRect(t,e,n,o))}},this.drawCandleRect_solid=function(t,e,i,n,s){if(e!=i&&!(2>n)){var a=i-e;t+=.5*n,n=~~(n+.5),t=~~(t+.5),e=~~(e+.5),a=~~(a+.5),l.lineWidth=1,l.fillStyle=s,l.fillRect(t,e,n,a),t-=.5,e-=.5,l.strokeStyle=s,l.strokeRect(t,e,n,a)}},this.drawCandleLineRect=function(t,e,i,n,s,a,o,r){if(t+=a,t=~~(t+.5),l.strokeStyle=o,l.lineWidth=1,i==n){var h=.5*a;h=~~(h+.5),.5>h&&(h=.5),i=~~(i+.5),i-=.5,l.moveTo(t-h,i),l.lineTo(t+h,i)}if(e!=s){if(t-=.5,l.moveTo(t,e),r&&a>=2){var c=Math.min(i,n),u=Math.max(i,n);l.lineTo(t,c),l.moveTo(t,u)}l.lineTo(t,s)}},this.drawOhlc=function(t,e,i,n,s,a,o){l.strokeStyle=o,l.lineWidth=1;var r=.5*a;r=~~(r+.5),.5>r&&(r=.5),t+=a,t=~~(t+.5),e=~~(e+.5),e-=.5,l.moveTo(t-r,e),l.lineTo(t,e),s=~~(s+.5),s-=.5,l.moveTo(t,s),l.lineTo(t+r,s),t-=.5,l.moveTo(t,i),l.lineTo(t,n)},this.drawVStickC=function(t,e,i,n,s){t+=i,i=~~(i+.5),1>i&&(i=1),t=~~(t+.5),1&i&&(t-=.5),e=~~(e+.5),n=~~(n-.5),l.strokeStyle=s,l.lineWidth=i,l.moveTo(t,e),l.lineTo(t,e+n)},this.drawVStickRect=function(t,e,i,n,s,a){t+=.5*i;var o=i;t=~~(t+.5),o=~~(o+.5),e=~~(e+.5),n=~~(n+.5),0==n&&(n=1),a?(.5>o&&(o=.5),l.fillStyle=s,l.fillRect(t,e,o,n)):(t-=.5,e-=.5,l.strokeStyle=s,l.strokeRect(t,e,o,n))},this.drawBg=function(t){r&&r.drawBg(!1,t)},this.remove=function(){t.domGc(o),h&&h.gc(),r&&r.gc()},d(),m(),e.withHBg&&(g(),v()),p(e.reO)}this.xh5_ibPainter=d,this.xh5_Canvas=e}var n=t.$C,s=t.xh5_BrowserUtil,a=t.xh5_EvtUtil,o=t.xh5_deviceUtil,l=t.xh5_HtmlPosUtil,r=t.fBind,h=t.dateUtil,c=t.oc,u=e.globalCfg;return i});;
